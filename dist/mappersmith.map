{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///mappersmith.js","webpack:///webpack/bootstrap 69fea883e474a58aa685","webpack:///./index.js","webpack:///./lib/index.js","webpack:///./lib/client-builder.js","webpack:///./lib/manifest.js","webpack:///./lib/method-descriptor.js","webpack:///./lib/utils.js","webpack:///./lib/request.js","webpack:///./lib/gateway/xhr.js","webpack:///./lib/gateway.js","webpack:///./lib/response.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","defaultGateway","lib","XMLHttpRequest","default","process","configs","gateway","_interopRequireDefault","obj","__esModule","forge","manifest","_clientBuilder2","build","Object","defineProperty","value","undefined","_clientBuilder","Promise","gatewayConfigs","emulateHTTP","XHR","withCredentials","configure","_defineProperty","key","enumerable","configurable","writable","ClientBuilder","GatewayClass","Error","_manifest2","_manifest","_methodDescriptor","_request","_request2","_utils","prototype","_this","client","eachResource","name","methods","buildResource","_this2","reduce","resource","method","assign","requestParams","request","descriptor","invokeMiddlewares","initialRequest","_this3","middlewares","createMiddlewares","finalRequest","middleware","callGateway","execute","next","response","Manifest","host","resources","_methodDescriptor2","callback","keys","forEach","resourceName","eachMethod","methodName","createMethodDescriptor","map","definition","path","createInstance","middlewareFactory","MethodDescriptor","headers","params","bodyAttr","headersAttr","toQueryString","entry","isPlainObject","validKeys","buildRecursive","join","replace","R20","performanceNow","hasProcessHrtime","getNanoSeconds","loadTime","performance","now","parseResponseHeaders","headerStr","headerPairs","split","i","length","headerPair","index","indexOf","substring","toLowerCase","val","trim","lowerCaseObjectKeys","target","toString","getPrototypeOf","_typeof2","Symbol","iterator","constructor","_typeof","window","mozNow","msNow","oNow","webkitNow","Date","getTime","_process","eval","e","hrtime","hr","filter","suffix","isArray","Array","isObject","v","k","encodeURIComponent","hasOwnProperty","arguments","source","Request","methodDescriptor","REGEXP_DYNAMIC_SEGMENT","RegExp","isParam","pattern","test","missingDynamicSegmentMatch","match","queryString","url","body","enhance","extras","headerKey","bodyKey","_gateway2","apply","_gateway","_response","_response2","extends","get","xmlHttpRequest","configureCallbacks","open","setHeaders","send","post","performRequest","put","patch","delete","addEventListener","dispatchResponse","createResponse","dispatchClientError","xhrOptions","options","requestMethod","shouldEmulateHTTP","customHeaders","prepareBody","args","push","status","data","responseText","responseHeaders","getAllResponseHeaders","headerName","setRequestHeader","Gateway","successCallback","failCallback","_index","_arguments","timeStart","resolve","reject","timeElapsed","message","success","_method","bodyString","Response","originalRequest","responseStatus","responseData","rawData","isContentTypeJSON","JSON","parse"],"mappings":"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","file":"mappersmith.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mappersmith\"] = factory();\n\telse\n\t\troot[\"mappersmith\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mappersmith\"] = factory();\n\telse\n\t\troot[\"mappersmith\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// Load compiled code\n\tvar lib = __webpack_require__(1);\n\tvar defaultGateway;\n\t\n\tif (typeof XMLHttpRequest !== 'undefined') {\n\t  // For browsers use XHR adapter\n\t  defaultGateway = __webpack_require__(7).default;\n\t} else if (typeof process !== 'undefined') {\n\t  // For node use HTTP adapter\n\t  defaultGateway = __webpack_require__(10).default;\n\t}\n\t\n\tlib.configs.gateway = defaultGateway;\n\tmodule.exports = lib;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.configs = undefined;\n\texports.default = forge;\n\t\n\tvar _clientBuilder = __webpack_require__(2);\n\t\n\tvar _clientBuilder2 = _interopRequireDefault(_clientBuilder);\n\t\n\tfunction _interopRequireDefault(obj) {\n\t  return obj && obj.__esModule ? obj : { default: obj };\n\t}\n\t\n\tvar configs = exports.configs = {\n\t  Promise: typeof Promise === 'function' ? Promise : null,\n\t  /**\n\t   * Gateway implementation, it defaults to \"lib/gateway/xhr\" for browsers and\n\t   * \"lib/gateway/http\" for node\n\t   */\n\t  gateway: null,\n\t  gatewayConfigs: {\n\t    /**\n\t     * Setting this option will fake PUT, PATCH and DELETE requests with a HTTP POST. It will\n\t     * add \"_method\" and \"X-HTTP-Method-Override\" with the original requested method\n\t     * @default false\n\t     */\n\t    emulateHTTP: false,\n\t\n\t    XHR: {\n\t      /**\n\t       * Indicates whether or not cross-site Access-Control requests should be made using credentials\n\t       * such as cookies, authorization headers or TLS client certificates.\n\t       * Setting withCredentials has no effect on same-site requests\n\t       * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials\n\t       */\n\t      withCredentials: false,\n\t\n\t      /**\n\t       * @callback to add aditional configurations to the XMLHttpRequest object.\n\t       * @param {XMLHttpRequest} xhr\n\t       * @default null\n\t       */\n\t      configure: null\n\t    }\n\t  }\n\t};\n\t\n\tfunction forge(manifest) {\n\t  return new _clientBuilder2.default(manifest, configs.gateway).build();\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _manifest = __webpack_require__(3);\n\t\n\tvar _manifest2 = _interopRequireDefault(_manifest);\n\t\n\tvar _methodDescriptor = __webpack_require__(4);\n\t\n\tvar _methodDescriptor2 = _interopRequireDefault(_methodDescriptor);\n\t\n\tvar _request = __webpack_require__(6);\n\t\n\tvar _request2 = _interopRequireDefault(_request);\n\t\n\tvar _utils = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) {\n\t  return obj && obj.__esModule ? obj : { default: obj };\n\t}\n\t\n\tfunction _defineProperty(obj, key, value) {\n\t  if (key in obj) {\n\t    Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\n\t  } else {\n\t    obj[key] = value;\n\t  }return obj;\n\t}\n\t\n\tfunction ClientBuilder(manifest, GatewayClass) {\n\t  if (!manifest) {\n\t    throw new Error('[Mappersmith] invalid manifest (' + manifest + ')');\n\t  }\n\t\n\t  if (!GatewayClass) {\n\t    throw new Error('[Mappersmith] gateway class not configured (configs.gateway)');\n\t  }\n\t\n\t  this.manifest = new _manifest2.default(manifest);\n\t  this.GatewayClass = GatewayClass;\n\t}\n\t\n\tClientBuilder.prototype = {\n\t  build: function build() {\n\t    var _this = this;\n\t\n\t    var client = { _manifest: this.manifest };\n\t\n\t    this.manifest.eachResource(function (name, methods) {\n\t      client[name] = _this.buildResource(methods);\n\t    });\n\t\n\t    return client;\n\t  },\n\t  buildResource: function buildResource(methods) {\n\t    var _this2 = this;\n\t\n\t    return methods.reduce(function (resource, method) {\n\t      return (0, _utils.assign)(resource, _defineProperty({}, method.name, function (requestParams) {\n\t        var request = new _request2.default(method.descriptor, requestParams);\n\t        return _this2.invokeMiddlewares(request);\n\t      }));\n\t    }, {});\n\t  },\n\t  invokeMiddlewares: function invokeMiddlewares(initialRequest) {\n\t    var _this3 = this;\n\t\n\t    var middlewares = this.manifest.createMiddlewares();\n\t    var finalRequest = middlewares.reduce(function (request, middleware) {\n\t      return middleware.request(request);\n\t    }, initialRequest);\n\t\n\t    var callGateway = function callGateway() {\n\t      return new _this3.GatewayClass(finalRequest).call();\n\t    };\n\t\n\t    var execute = middlewares.reduce(function (next, middleware) {\n\t      return function () {\n\t        return middleware.response(next);\n\t      };\n\t    }, callGateway);\n\t\n\t    return execute();\n\t  }\n\t};\n\t\n\texports.default = ClientBuilder;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _methodDescriptor = __webpack_require__(4);\n\t\n\tvar _methodDescriptor2 = _interopRequireDefault(_methodDescriptor);\n\t\n\tvar _utils = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) {\n\t  return obj && obj.__esModule ? obj : { default: obj };\n\t}\n\t\n\tfunction Manifest(obj) {\n\t  this.host = obj.host;\n\t  this.resources = obj.resources || {};\n\t  this.middlewares = obj.middlewares || [];\n\t}\n\t\n\tManifest.prototype = {\n\t  eachResource: function eachResource(callback) {\n\t    var _this = this;\n\t\n\t    Object.keys(this.resources).forEach(function (resourceName) {\n\t      var methods = _this.eachMethod(resourceName, function (methodName) {\n\t        return {\n\t          name: methodName,\n\t          descriptor: _this.createMethodDescriptor(resourceName, methodName)\n\t        };\n\t      });\n\t\n\t      callback(resourceName, methods);\n\t    });\n\t  },\n\t  eachMethod: function eachMethod(resourceName, callback) {\n\t    return Object.keys(this.resources[resourceName]).map(function (name) {\n\t      return callback(name);\n\t    });\n\t  },\n\t  createMethodDescriptor: function createMethodDescriptor(resourceName, methodName) {\n\t    var definition = this.resources[resourceName][methodName];\n\t\n\t    if (!definition || !definition.path) {\n\t      throw new Error('[Mappersmith] path is undefined for resource \"' + resourceName + '\" method \"' + methodName + '\"');\n\t    }\n\t\n\t    return new _methodDescriptor2.default((0, _utils.assign)({ host: this.host }, definition));\n\t  },\n\t  createMiddlewares: function createMiddlewares() {\n\t    var createInstance = function createInstance(middlewareFactory) {\n\t      return (0, _utils.assign)({\n\t        request: function request(_request) {\n\t          return _request;\n\t        },\n\t        response: function response(next) {\n\t          return next();\n\t        }\n\t      }, middlewareFactory());\n\t    };\n\t\n\t    return this.middlewares.map(function (middleware) {\n\t      return createInstance(middleware);\n\t    });\n\t  }\n\t};\n\t\n\texports.default = Manifest;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = MethodDescriptor;\n\t/**\n\t * @param {Object} obj\n\t *   @param {String} obj.host\n\t *   @param {String} obj.path\n\t *   @param {String} obj.method\n\t *   @param {Object} obj.headers\n\t *   @param {Object} obj.params\n\t *   @param {String} obj.bodyAttr - Body attribute name. Default: 'body'\n\t *   @param {String} obj.headersAttr - Headers attribute name. Default: 'headers'\n\t */\n\tfunction MethodDescriptor(obj) {\n\t  this.host = obj.host;\n\t  this.path = obj.path;\n\t  this.method = obj.method || 'get';\n\t  this.headers = obj.headers;\n\t  this.params = obj.params;\n\t\n\t  this.bodyAttr = obj.bodyAttr || 'body';\n\t  this.headersAttr = obj.headersAttr || 'headers';\n\t}\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n\t  return typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n\t} : function (obj) {\n\t  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n\t};\n\t\n\texports.toQueryString = toQueryString;\n\texports.performanceNow = performanceNow;\n\texports.parseResponseHeaders = parseResponseHeaders;\n\texports.lowerCaseObjectKeys = lowerCaseObjectKeys;\n\texports.isPlainObject = isPlainObject;\n\tif (typeof window !== 'undefined' && window !== null) {\n\t  if (!window.performance) {\n\t    window.performance = {};\n\t  }\n\t  performance.now = function () {\n\t    return performance.now || performance.mozNow || performance.msNow || performance.oNow || performance.webkitNow || function () {\n\t      return new Date().getTime();\n\t    };\n\t  }();\n\t}\n\t\n\tvar _process = void 0,\n\t    getNanoSeconds = void 0,\n\t    loadTime = void 0;\n\ttry {\n\t  _process = eval('process');\n\t} catch (e) {}\n\t\n\tvar hasProcessHrtime = function hasProcessHrtime() {\n\t  return typeof _process !== 'undefined' && _process !== null && _process.hrtime;\n\t};\n\t\n\tif (hasProcessHrtime()) {\n\t  getNanoSeconds = function getNanoSeconds() {\n\t    var hr = _process.hrtime();\n\t    return hr[0] * 1e9 + hr[1];\n\t  };\n\t  loadTime = getNanoSeconds();\n\t}\n\t\n\tvar R20 = /%20/g;\n\t\n\tvar validKeys = function validKeys(entry) {\n\t  return Object.keys(entry).filter(function (key) {\n\t    return entry[key] !== undefined && entry[key] !== null;\n\t  });\n\t};\n\t\n\tvar buildRecursive = function buildRecursive(key, value, suffix) {\n\t  suffix = suffix || '';\n\t  var isArray = Array.isArray(value);\n\t  var isObject = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n\t\n\t  if (!isArray && !isObject) {\n\t    return encodeURIComponent(key + suffix) + '=' + encodeURIComponent(value);\n\t  }\n\t\n\t  if (isArray) {\n\t    return value.map(function (v) {\n\t      return buildRecursive(key, v, suffix + '[]');\n\t    }).join('&');\n\t  }\n\t\n\t  return validKeys(value).map(function (k) {\n\t    return buildRecursive(key, value[k], suffix + '[' + k + ']');\n\t  }).join('&');\n\t};\n\t\n\tfunction toQueryString(entry) {\n\t  if (!isPlainObject(entry)) {\n\t    return entry;\n\t  }\n\t\n\t  return validKeys(entry).map(function (key) {\n\t    return buildRecursive(key, entry[key]);\n\t  }).join('&').replace(R20, '+');\n\t}\n\t\n\t/**\n\t * Gives time in miliseconds, but with sub-milisecond precision for Browser\n\t * and Nodejs\n\t */\n\tfunction performanceNow() {\n\t  if (hasProcessHrtime()) {\n\t    return (getNanoSeconds() - loadTime) / 1e6;\n\t  }\n\t\n\t  return performance.now();\n\t}\n\t\n\t/**\n\t * borrowed from: https://gist.github.com/monsur/706839\n\t * XmlHttpRequest's getAllResponseHeaders() method returns a string of response\n\t * headers according to the format described here:\n\t * http://www.w3.org/TR/XMLHttpRequest/#the-getallresponseheaders-method\n\t * This method parses that string into a user-friendly key/value pair object.\n\t */\n\tfunction parseResponseHeaders(headerStr) {\n\t  var headers = {};\n\t  if (!headerStr) {\n\t    return headers;\n\t  }\n\t\n\t  var headerPairs = headerStr.split('\\r\\n');\n\t  for (var i = 0; i < headerPairs.length; i++) {\n\t    var headerPair = headerPairs[i];\n\t    // Can't use split() here because it does the wrong thing\n\t    // if the header value has the string \": \" in it.\n\t    var index = headerPair.indexOf(': ');\n\t    if (index > 0) {\n\t      var key = headerPair.substring(0, index).toLowerCase();\n\t      var val = headerPair.substring(index + 2).trim();\n\t      headers[key] = val;\n\t    }\n\t  }\n\t  return headers;\n\t}\n\t\n\tfunction lowerCaseObjectKeys(obj) {\n\t  return Object.keys(obj).reduce(function (target, key) {\n\t    target[key.toLowerCase()] = obj[key];\n\t    return target;\n\t  }, {});\n\t}\n\t\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\tvar assign = exports.assign = Object.assign || function (target) {\n\t  for (var i = 1; i < arguments.length; i++) {\n\t    var source = arguments[i];\n\t    for (var key in source) {\n\t      if (hasOwnProperty.call(source, key)) {\n\t        target[key] = source[key];\n\t      }\n\t    }\n\t  }\n\t  return target;\n\t};\n\t\n\tvar toString = Object.prototype.toString;\n\tfunction isPlainObject(value) {\n\t  return toString.call(value) === '[object Object]' && Object.getPrototypeOf(value) === Object.getPrototypeOf({});\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(5);\n\t\n\tvar REGEXP_DYNAMIC_SEGMENT = new RegExp('\\{([^\\}]+)\\}');\n\t\n\t/**\n\t * @param {MethodDescriptor} methodDescriptor\n\t * @param {Object} requestParams, defaults to an empty object ({})\n\t */\n\tfunction Request(methodDescriptor, requestParams) {\n\t  this.methodDescriptor = methodDescriptor;\n\t  this.requestParams = requestParams || {};\n\t}\n\t\n\tRequest.prototype = {\n\t  /**\n\t   * @return {Object}\n\t   */\n\t  params: function params() {\n\t    var _this = this;\n\t\n\t    var params = (0, _utils.assign)({}, this.methodDescriptor.params, this.requestParams);\n\t\n\t    var isParam = function isParam(key) {\n\t      return key !== _this.methodDescriptor.headersAttr && key !== _this.methodDescriptor.bodyAttr;\n\t    };\n\t\n\t    return Object.keys(params).reduce(function (obj, key) {\n\t      if (isParam(key)) {\n\t        obj[key] = params[key];\n\t      }\n\t      return obj;\n\t    }, {});\n\t  },\n\t\n\t  /**\n\t   * Returns the HTTP method in lowercase\n\t   *\n\t   * @return {String}\n\t   */\n\t  method: function method() {\n\t    return this.methodDescriptor.method.toLowerCase();\n\t  },\n\t\n\t  /**\n\t   * Returns host name without trailing slash\n\t   * Example: http://example.org\n\t   *\n\t   * @return {String}\n\t   */\n\t  host: function host() {\n\t    return (this.methodDescriptor.host || '').replace(/\\/$/, '');\n\t  },\n\t\n\t  /**\n\t   * Returns path with parameters and leading slash.\n\t   * Example: /some/path?param1=true\n\t   *\n\t   * @throws {Error} if any dynamic segment is missing.\n\t   * Example:\n\t   * Imagine the path '/some/{name}', the error will be similar to:\n\t   * '[Mappersmith] required parameter missing (name), \"/some/{name}\" cannot be resolved'\n\t   *\n\t   * @return {String}\n\t   */\n\t  path: function path() {\n\t    var path = this.methodDescriptor.path;\n\t    var _methodDescriptor = this.methodDescriptor,\n\t        headersAttr = _methodDescriptor.headersAttr,\n\t        bodyAttr = _methodDescriptor.bodyAttr;\n\t\n\t    if (this.methodDescriptor.path[0] !== '/') {\n\t      path = '/' + this.methodDescriptor.path;\n\t    }\n\t\n\t    var params = this.params();\n\t    Object.keys(params).forEach(function (key) {\n\t      var value = params[key];\n\t      var pattern = '\\{' + key + '\\}';\n\t\n\t      if (new RegExp(pattern).test(path)) {\n\t        path = path.replace('\\{' + key + '\\}', value);\n\t        delete params[key];\n\t      }\n\t    });\n\t\n\t    var missingDynamicSegmentMatch = path.match(REGEXP_DYNAMIC_SEGMENT);\n\t    if (missingDynamicSegmentMatch) {\n\t      throw new Error('[Mappersmith] required parameter missing (' + missingDynamicSegmentMatch[1] + '), \"' + path + '\" cannot be resolved');\n\t    }\n\t\n\t    var queryString = (0, _utils.toQueryString)(params);\n\t    if (queryString.length !== 0) {\n\t      path += '?' + queryString;\n\t    }\n\t\n\t    return path;\n\t  },\n\t\n\t  /**\n\t   * Returns the full URL\n\t   * Example: http://example.org/some/path?param1=true\n\t   *\n\t   * @return {String}\n\t   */\n\t  url: function url() {\n\t    return '' + this.host() + this.path();\n\t  },\n\t\n\t  /**\n\t   * Returns an object with the headers. Header names are converted to\n\t   * lowercase\n\t   *\n\t   * @return {Object}\n\t   */\n\t  headers: function headers() {\n\t    return (0, _utils.lowerCaseObjectKeys)((0, _utils.assign)({}, this.methodDescriptor.headers, this.requestParams[this.methodDescriptor.headersAttr]));\n\t  },\n\t  body: function body() {\n\t    return this.requestParams[this.methodDescriptor.bodyAttr];\n\t  },\n\t\n\t  /**\n\t   * Enhances current request returning a new Request\n\t   * @param {Object} extras\n\t   *   @param {Object} extras.params - it will be merged with current params\n\t   *   @param {Object} extras.headers - it will be merged with current headers\n\t   *   @param {String|Object} extras.body - it will replace the current body\n\t   */\n\t  enhance: function enhance(extras) {\n\t    var headerKey = this.methodDescriptor.headersAttr;\n\t    var bodyKey = this.methodDescriptor.bodyAttr;\n\t    var requestParams = (0, _utils.assign)({}, this.requestParams, extras.params);\n\t    requestParams[headerKey] = (0, _utils.assign)({}, this.requestParams[headerKey], extras.headers);\n\t    requestParams[bodyKey] = extras.body;\n\t\n\t    return new Request(this.methodDescriptor, requestParams);\n\t  }\n\t};\n\t\n\texports.default = Request;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _gateway = __webpack_require__(8);\n\t\n\tvar _gateway2 = _interopRequireDefault(_gateway);\n\t\n\tvar _response = __webpack_require__(9);\n\t\n\tvar _response2 = _interopRequireDefault(_response);\n\t\n\tvar _utils = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) {\n\t  return obj && obj.__esModule ? obj : { default: obj };\n\t}\n\t\n\tfunction XHR(request) {\n\t  _gateway2.default.apply(this, arguments);\n\t}\n\t\n\tXHR.prototype = _gateway2.default.extends({\n\t  get: function get() {\n\t    var xmlHttpRequest = new XMLHttpRequest();\n\t    this.configureCallbacks(xmlHttpRequest);\n\t    xmlHttpRequest.open('get', this.request.url(), true);\n\t    this.setHeaders(xmlHttpRequest, {});\n\t    xmlHttpRequest.send();\n\t  },\n\t  post: function post() {\n\t    this.performRequest('post');\n\t  },\n\t  put: function put() {\n\t    this.performRequest('put');\n\t  },\n\t  patch: function patch() {\n\t    this.performRequest('patch');\n\t  },\n\t  delete: function _delete() {\n\t    this.performRequest('delete');\n\t  },\n\t  configureCallbacks: function configureCallbacks(xmlHttpRequest) {\n\t    var _this = this;\n\t\n\t    xmlHttpRequest.addEventListener('load', function () {\n\t      _this.dispatchResponse(_this.createResponse(xmlHttpRequest));\n\t    });\n\t\n\t    xmlHttpRequest.addEventListener('error', function () {\n\t      _this.dispatchClientError('Network error');\n\t    });\n\t\n\t    var xhrOptions = this.options().XHR;\n\t    if (xhrOptions.withCredentials) {\n\t      xmlHttpRequest.withCredentials = true;\n\t    }\n\t\n\t    if (xhrOptions.configure) {\n\t      xhrOptions.configure(xmlHttpRequest);\n\t    }\n\t  },\n\t  performRequest: function performRequest(method) {\n\t    var requestMethod = this.shouldEmulateHTTP() ? 'post' : method;\n\t    var xmlHttpRequest = new XMLHttpRequest();\n\t    this.configureCallbacks(xmlHttpRequest);\n\t    xmlHttpRequest.open(requestMethod, this.request.url(), true);\n\t\n\t    var customHeaders = {};\n\t    var body = this.prepareBody(method, customHeaders);\n\t    this.setHeaders(xmlHttpRequest, customHeaders);\n\t\n\t    var args = [];\n\t    body && args.push(body);\n\t\n\t    xmlHttpRequest.send.apply(xmlHttpRequest, args);\n\t  },\n\t  createResponse: function createResponse(xmlHttpRequest) {\n\t    var status = xmlHttpRequest.status;\n\t    var data = xmlHttpRequest.responseText;\n\t    var responseHeaders = (0, _utils.parseResponseHeaders)(xmlHttpRequest.getAllResponseHeaders());\n\t    return new _response2.default(this.request, status, data, responseHeaders);\n\t  },\n\t  setHeaders: function setHeaders(xmlHttpRequest, customHeaders) {\n\t    var headers = (0, _utils.assign)(customHeaders, this.request.headers());\n\t    Object.keys(headers).forEach(function (headerName) {\n\t      xmlHttpRequest.setRequestHeader(headerName, headers[headerName]);\n\t    });\n\t  }\n\t});\n\t\n\texports.default = XHR;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(5);\n\t\n\tvar _index = __webpack_require__(1);\n\t\n\tvar _response = __webpack_require__(9);\n\t\n\tvar _response2 = _interopRequireDefault(_response);\n\t\n\tfunction _interopRequireDefault(obj) {\n\t  return obj && obj.__esModule ? obj : { default: obj };\n\t}\n\t\n\tfunction Gateway(request) {\n\t  this.request = request;\n\t  this.successCallback = function () {};\n\t  this.failCallback = function () {};\n\t}\n\t\n\tGateway.extends = function (methods) {\n\t  return (0, _utils.assign)({}, Gateway.prototype, methods);\n\t};\n\t\n\tGateway.prototype = {\n\t  options: function options() {\n\t    return _index.configs.gatewayConfigs;\n\t  },\n\t  shouldEmulateHTTP: function shouldEmulateHTTP() {\n\t    return this.options().emulateHTTP && /^(delete|put|patch)/i.test(this.request.method());\n\t  },\n\t  call: function call() {\n\t    var _this = this,\n\t        _arguments = arguments;\n\t\n\t    var timeStart = (0, _utils.performanceNow)();\n\t    return new _index.configs.Promise(function (resolve, reject) {\n\t      _this.successCallback = function (response) {\n\t        response.timeElapsed = (0, _utils.performanceNow)() - timeStart;\n\t        resolve(response);\n\t      };\n\t\n\t      _this.failCallback = function (response) {\n\t        response.timeElapsed = (0, _utils.performanceNow)() - timeStart;\n\t        reject(response);\n\t      };\n\t\n\t      try {\n\t        _this[_this.request.method()].apply(_this, _arguments);\n\t      } catch (e) {\n\t        _this.dispatchClientError(e.message);\n\t      }\n\t    });\n\t  },\n\t  dispatchResponse: function dispatchResponse(response) {\n\t    response.success() ? this.successCallback(response) : this.failCallback(response);\n\t  },\n\t  dispatchClientError: function dispatchClientError(message) {\n\t    this.failCallback(new _response2.default(this.request, 400, message));\n\t  },\n\t  prepareBody: function prepareBody(method, headers) {\n\t    var body = this.request.body();\n\t\n\t    if (this.shouldEmulateHTTP()) {\n\t      body = body || {};\n\t      (0, _utils.isPlainObject)(body) && (body._method = method);\n\t      headers['x-http-method-override'] = method;\n\t    }\n\t\n\t    var bodyString = (0, _utils.toQueryString)(body);\n\t\n\t    if (bodyString) {\n\t      if (typeof bodyString.length === 'number') {\n\t        headers['content-length'] = bodyString.length;\n\t      }\n\t\n\t      // If it's not simple, let the browser (or the user) set it\n\t      if ((0, _utils.isPlainObject)(body)) {\n\t        headers['content-type'] = 'application/x-www-form-urlencoded;charset=utf-8';\n\t      }\n\t    }\n\t\n\t    return bodyString;\n\t  }\n\t};\n\t\n\texports.default = Gateway;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(5);\n\t\n\t/**\n\t * @param {Request} originalRequest\n\t * @param {Integer} responseStatus\n\t * @param {String} responseData\n\t * @param {Object} responseHeaders, defaults to an empty object ({})\n\t */\n\tfunction Response(originalRequest, responseStatus, responseData, responseHeaders) {\n\t  this.originalRequest = originalRequest;\n\t  this.responseStatus = responseStatus;\n\t  this.responseData = responseData;\n\t  this.responseHeaders = responseHeaders || {};\n\t  this.timeElapsed = null;\n\t}\n\t\n\tResponse.prototype = {\n\t  /**\n\t   * @return {Request}\n\t   */\n\t  request: function request() {\n\t    return this.originalRequest;\n\t  },\n\t\n\t  /**\n\t   * @return {Integer}\n\t   */\n\t  status: function status() {\n\t    // IE sends 1223 instead of 204\n\t    if (this.responseStatus === 1223) {\n\t      return 204;\n\t    }\n\t\n\t    return this.responseStatus;\n\t  },\n\t\n\t  /**\n\t   * Returns true if status is greater or equal 200 or lower than 400\n\t   *\n\t   * @return {Boolean}\n\t   */\n\t  success: function success() {\n\t    var status = this.status();\n\t    return status >= 200 && status < 400;\n\t  },\n\t\n\t  /**\n\t   * Returns an object with the headers. Header names are converted to\n\t   * lowercase\n\t   *\n\t   * @return {Object}\n\t   */\n\t  headers: function headers() {\n\t    return (0, _utils.lowerCaseObjectKeys)(this.responseHeaders);\n\t  },\n\t  rawData: function rawData() {\n\t    return this.responseData;\n\t  },\n\t\n\t  /**\n\t   * Returns the response data, if \"Content-Type\" is \"application/json\"\n\t   * it parses the response and returns an object\n\t   *\n\t   * @return {String|Object}\n\t   */\n\t  data: function data() {\n\t    var data = this.responseData;\n\t\n\t    if (this.isContentTypeJSON()) {\n\t      try {\n\t        data = JSON.parse(this.responseData);\n\t      } catch (e) {}\n\t    }\n\t\n\t    return data;\n\t  },\n\t  isContentTypeJSON: function isContentTypeJSON() {\n\t    return (/application\\/json/.test(this.headers()['content-type'])\n\t    );\n\t  },\n\t\n\t  /**\n\t   * Enhances current Response returning a new Response\n\t   *\n\t   * @param {Object} extras\n\t   *   @param {Integer} extras.status - it will replace the current status\n\t   *   @param {String} extras.rawData - it will replace the current rawStatus\n\t   *   @param {Object} extras.headers - it will be merged with current headers\n\t   *\n\t   * @return {Response}\n\t   */\n\t  enhance: function enhance(extras) {\n\t    return new Response(this.request(), extras.status || this.status(), extras.rawData || this.rawData(), (0, _utils.assign)({}, this.headers(), extras.headers));\n\t  }\n\t};\n\t\n\texports.default = Response;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// mappersmith.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 69fea883e474a58aa685","// Load compiled code\nvar lib = require('./lib')\nvar defaultGateway\n\nif (typeof XMLHttpRequest !== 'undefined') {\n  // For browsers use XHR adapter\n  defaultGateway = require('./lib/gateway/xhr').default\n} else if (typeof process !== 'undefined') {\n  // For node use HTTP adapter\n  defaultGateway = require('./lib/gateway/http').default\n}\n\nlib.configs.gateway = defaultGateway\nmodule.exports = lib\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.configs = undefined;\nexports.default = forge;\n\nvar _clientBuilder = require('./client-builder');\n\nvar _clientBuilder2 = _interopRequireDefault(_clientBuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar configs = exports.configs = {\n  Promise: typeof Promise === 'function' ? Promise : null,\n  /**\n   * Gateway implementation, it defaults to \"lib/gateway/xhr\" for browsers and\n   * \"lib/gateway/http\" for node\n   */\n  gateway: null,\n  gatewayConfigs: {\n    /**\n     * Setting this option will fake PUT, PATCH and DELETE requests with a HTTP POST. It will\n     * add \"_method\" and \"X-HTTP-Method-Override\" with the original requested method\n     * @default false\n     */\n    emulateHTTP: false,\n\n    XHR: {\n      /**\n       * Indicates whether or not cross-site Access-Control requests should be made using credentials\n       * such as cookies, authorization headers or TLS client certificates.\n       * Setting withCredentials has no effect on same-site requests\n       * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials\n       */\n      withCredentials: false,\n\n      /**\n       * @callback to add aditional configurations to the XMLHttpRequest object.\n       * @param {XMLHttpRequest} xhr\n       * @default null\n       */\n      configure: null\n    }\n  }\n};\n\nfunction forge(manifest) {\n  return new _clientBuilder2.default(manifest, configs.gateway).build();\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _manifest = require('./manifest');\n\nvar _manifest2 = _interopRequireDefault(_manifest);\n\nvar _methodDescriptor = require('./method-descriptor');\n\nvar _methodDescriptor2 = _interopRequireDefault(_methodDescriptor);\n\nvar _request = require('./request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction ClientBuilder(manifest, GatewayClass) {\n  if (!manifest) {\n    throw new Error('[Mappersmith] invalid manifest (' + manifest + ')');\n  }\n\n  if (!GatewayClass) {\n    throw new Error('[Mappersmith] gateway class not configured (configs.gateway)');\n  }\n\n  this.manifest = new _manifest2.default(manifest);\n  this.GatewayClass = GatewayClass;\n}\n\nClientBuilder.prototype = {\n  build: function build() {\n    var _this = this;\n\n    var client = { _manifest: this.manifest };\n\n    this.manifest.eachResource(function (name, methods) {\n      client[name] = _this.buildResource(methods);\n    });\n\n    return client;\n  },\n  buildResource: function buildResource(methods) {\n    var _this2 = this;\n\n    return methods.reduce(function (resource, method) {\n      return (0, _utils.assign)(resource, _defineProperty({}, method.name, function (requestParams) {\n        var request = new _request2.default(method.descriptor, requestParams);\n        return _this2.invokeMiddlewares(request);\n      }));\n    }, {});\n  },\n  invokeMiddlewares: function invokeMiddlewares(initialRequest) {\n    var _this3 = this;\n\n    var middlewares = this.manifest.createMiddlewares();\n    var finalRequest = middlewares.reduce(function (request, middleware) {\n      return middleware.request(request);\n    }, initialRequest);\n\n    var callGateway = function callGateway() {\n      return new _this3.GatewayClass(finalRequest).call();\n    };\n\n    var execute = middlewares.reduce(function (next, middleware) {\n      return function () {\n        return middleware.response(next);\n      };\n    }, callGateway);\n\n    return execute();\n  }\n};\n\nexports.default = ClientBuilder;\n\n\n// WEBPACK FOOTER //\n// ./lib/client-builder.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _methodDescriptor = require('./method-descriptor');\n\nvar _methodDescriptor2 = _interopRequireDefault(_methodDescriptor);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Manifest(obj) {\n  this.host = obj.host;\n  this.resources = obj.resources || {};\n  this.middlewares = obj.middlewares || [];\n}\n\nManifest.prototype = {\n  eachResource: function eachResource(callback) {\n    var _this = this;\n\n    Object.keys(this.resources).forEach(function (resourceName) {\n      var methods = _this.eachMethod(resourceName, function (methodName) {\n        return {\n          name: methodName,\n          descriptor: _this.createMethodDescriptor(resourceName, methodName)\n        };\n      });\n\n      callback(resourceName, methods);\n    });\n  },\n  eachMethod: function eachMethod(resourceName, callback) {\n    return Object.keys(this.resources[resourceName]).map(function (name) {\n      return callback(name);\n    });\n  },\n  createMethodDescriptor: function createMethodDescriptor(resourceName, methodName) {\n    var definition = this.resources[resourceName][methodName];\n\n    if (!definition || !definition.path) {\n      throw new Error('[Mappersmith] path is undefined for resource \"' + resourceName + '\" method \"' + methodName + '\"');\n    }\n\n    return new _methodDescriptor2.default((0, _utils.assign)({ host: this.host }, definition));\n  },\n  createMiddlewares: function createMiddlewares() {\n    var createInstance = function createInstance(middlewareFactory) {\n      return (0, _utils.assign)({\n        request: function request(_request) {\n          return _request;\n        },\n        response: function response(next) {\n          return next();\n        }\n      }, middlewareFactory());\n    };\n\n    return this.middlewares.map(function (middleware) {\n      return createInstance(middleware);\n    });\n  }\n};\n\nexports.default = Manifest;\n\n\n// WEBPACK FOOTER //\n// ./lib/manifest.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = MethodDescriptor;\n/**\n * @param {Object} obj\n *   @param {String} obj.host\n *   @param {String} obj.path\n *   @param {String} obj.method\n *   @param {Object} obj.headers\n *   @param {Object} obj.params\n *   @param {String} obj.bodyAttr - Body attribute name. Default: 'body'\n *   @param {String} obj.headersAttr - Headers attribute name. Default: 'headers'\n */\nfunction MethodDescriptor(obj) {\n  this.host = obj.host;\n  this.path = obj.path;\n  this.method = obj.method || 'get';\n  this.headers = obj.headers;\n  this.params = obj.params;\n\n  this.bodyAttr = obj.bodyAttr || 'body';\n  this.headersAttr = obj.headersAttr || 'headers';\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/method-descriptor.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.toQueryString = toQueryString;\nexports.performanceNow = performanceNow;\nexports.parseResponseHeaders = parseResponseHeaders;\nexports.lowerCaseObjectKeys = lowerCaseObjectKeys;\nexports.isPlainObject = isPlainObject;\nif (typeof window !== 'undefined' && window !== null) {\n  if (!window.performance) {\n    window.performance = {};\n  }\n  performance.now = function () {\n    return performance.now || performance.mozNow || performance.msNow || performance.oNow || performance.webkitNow || function () {\n      return new Date().getTime();\n    };\n  }();\n}\n\nvar _process = void 0,\n    getNanoSeconds = void 0,\n    loadTime = void 0;\ntry {\n  _process = eval('process');\n} catch (e) {}\n\nvar hasProcessHrtime = function hasProcessHrtime() {\n  return typeof _process !== 'undefined' && _process !== null && _process.hrtime;\n};\n\nif (hasProcessHrtime()) {\n  getNanoSeconds = function getNanoSeconds() {\n    var hr = _process.hrtime();\n    return hr[0] * 1e9 + hr[1];\n  };\n  loadTime = getNanoSeconds();\n}\n\nvar R20 = /%20/g;\n\nvar validKeys = function validKeys(entry) {\n  return Object.keys(entry).filter(function (key) {\n    return entry[key] !== undefined && entry[key] !== null;\n  });\n};\n\nvar buildRecursive = function buildRecursive(key, value, suffix) {\n  suffix = suffix || '';\n  var isArray = Array.isArray(value);\n  var isObject = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n\n  if (!isArray && !isObject) {\n    return encodeURIComponent(key + suffix) + '=' + encodeURIComponent(value);\n  }\n\n  if (isArray) {\n    return value.map(function (v) {\n      return buildRecursive(key, v, suffix + '[]');\n    }).join('&');\n  }\n\n  return validKeys(value).map(function (k) {\n    return buildRecursive(key, value[k], suffix + '[' + k + ']');\n  }).join('&');\n};\n\nfunction toQueryString(entry) {\n  if (!isPlainObject(entry)) {\n    return entry;\n  }\n\n  return validKeys(entry).map(function (key) {\n    return buildRecursive(key, entry[key]);\n  }).join('&').replace(R20, '+');\n}\n\n/**\n * Gives time in miliseconds, but with sub-milisecond precision for Browser\n * and Nodejs\n */\nfunction performanceNow() {\n  if (hasProcessHrtime()) {\n    return (getNanoSeconds() - loadTime) / 1e6;\n  }\n\n  return performance.now();\n}\n\n/**\n * borrowed from: https://gist.github.com/monsur/706839\n * XmlHttpRequest's getAllResponseHeaders() method returns a string of response\n * headers according to the format described here:\n * http://www.w3.org/TR/XMLHttpRequest/#the-getallresponseheaders-method\n * This method parses that string into a user-friendly key/value pair object.\n */\nfunction parseResponseHeaders(headerStr) {\n  var headers = {};\n  if (!headerStr) {\n    return headers;\n  }\n\n  var headerPairs = headerStr.split('\\r\\n');\n  for (var i = 0; i < headerPairs.length; i++) {\n    var headerPair = headerPairs[i];\n    // Can't use split() here because it does the wrong thing\n    // if the header value has the string \": \" in it.\n    var index = headerPair.indexOf(': ');\n    if (index > 0) {\n      var key = headerPair.substring(0, index).toLowerCase();\n      var val = headerPair.substring(index + 2).trim();\n      headers[key] = val;\n    }\n  }\n  return headers;\n}\n\nfunction lowerCaseObjectKeys(obj) {\n  return Object.keys(obj).reduce(function (target, key) {\n    target[key.toLowerCase()] = obj[key];\n    return target;\n  }, {});\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar assign = exports.assign = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\n\nvar toString = Object.prototype.toString;\nfunction isPlainObject(value) {\n  return toString.call(value) === '[object Object]' && Object.getPrototypeOf(value) === Object.getPrototypeOf({});\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/utils.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require('./utils');\n\nvar REGEXP_DYNAMIC_SEGMENT = new RegExp('\\{([^\\}]+)\\}');\n\n/**\n * @param {MethodDescriptor} methodDescriptor\n * @param {Object} requestParams, defaults to an empty object ({})\n */\nfunction Request(methodDescriptor, requestParams) {\n  this.methodDescriptor = methodDescriptor;\n  this.requestParams = requestParams || {};\n}\n\nRequest.prototype = {\n  /**\n   * @return {Object}\n   */\n  params: function params() {\n    var _this = this;\n\n    var params = (0, _utils.assign)({}, this.methodDescriptor.params, this.requestParams);\n\n    var isParam = function isParam(key) {\n      return key !== _this.methodDescriptor.headersAttr && key !== _this.methodDescriptor.bodyAttr;\n    };\n\n    return Object.keys(params).reduce(function (obj, key) {\n      if (isParam(key)) {\n        obj[key] = params[key];\n      }\n      return obj;\n    }, {});\n  },\n\n\n  /**\n   * Returns the HTTP method in lowercase\n   *\n   * @return {String}\n   */\n  method: function method() {\n    return this.methodDescriptor.method.toLowerCase();\n  },\n\n\n  /**\n   * Returns host name without trailing slash\n   * Example: http://example.org\n   *\n   * @return {String}\n   */\n  host: function host() {\n    return (this.methodDescriptor.host || '').replace(/\\/$/, '');\n  },\n\n\n  /**\n   * Returns path with parameters and leading slash.\n   * Example: /some/path?param1=true\n   *\n   * @throws {Error} if any dynamic segment is missing.\n   * Example:\n   * Imagine the path '/some/{name}', the error will be similar to:\n   * '[Mappersmith] required parameter missing (name), \"/some/{name}\" cannot be resolved'\n   *\n   * @return {String}\n   */\n  path: function path() {\n    var path = this.methodDescriptor.path;\n    var _methodDescriptor = this.methodDescriptor,\n        headersAttr = _methodDescriptor.headersAttr,\n        bodyAttr = _methodDescriptor.bodyAttr;\n\n\n    if (this.methodDescriptor.path[0] !== '/') {\n      path = '/' + this.methodDescriptor.path;\n    }\n\n    var params = this.params();\n    Object.keys(params).forEach(function (key) {\n      var value = params[key];\n      var pattern = '\\{' + key + '\\}';\n\n      if (new RegExp(pattern).test(path)) {\n        path = path.replace('\\{' + key + '\\}', value);\n        delete params[key];\n      }\n    });\n\n    var missingDynamicSegmentMatch = path.match(REGEXP_DYNAMIC_SEGMENT);\n    if (missingDynamicSegmentMatch) {\n      throw new Error('[Mappersmith] required parameter missing (' + missingDynamicSegmentMatch[1] + '), \"' + path + '\" cannot be resolved');\n    }\n\n    var queryString = (0, _utils.toQueryString)(params);\n    if (queryString.length !== 0) {\n      path += '?' + queryString;\n    }\n\n    return path;\n  },\n\n\n  /**\n   * Returns the full URL\n   * Example: http://example.org/some/path?param1=true\n   *\n   * @return {String}\n   */\n  url: function url() {\n    return '' + this.host() + this.path();\n  },\n\n\n  /**\n   * Returns an object with the headers. Header names are converted to\n   * lowercase\n   *\n   * @return {Object}\n   */\n  headers: function headers() {\n    return (0, _utils.lowerCaseObjectKeys)((0, _utils.assign)({}, this.methodDescriptor.headers, this.requestParams[this.methodDescriptor.headersAttr]));\n  },\n  body: function body() {\n    return this.requestParams[this.methodDescriptor.bodyAttr];\n  },\n\n\n  /**\n   * Enhances current request returning a new Request\n   * @param {Object} extras\n   *   @param {Object} extras.params - it will be merged with current params\n   *   @param {Object} extras.headers - it will be merged with current headers\n   *   @param {String|Object} extras.body - it will replace the current body\n   */\n  enhance: function enhance(extras) {\n    var headerKey = this.methodDescriptor.headersAttr;\n    var bodyKey = this.methodDescriptor.bodyAttr;\n    var requestParams = (0, _utils.assign)({}, this.requestParams, extras.params);\n    requestParams[headerKey] = (0, _utils.assign)({}, this.requestParams[headerKey], extras.headers);\n    requestParams[bodyKey] = extras.body;\n\n    return new Request(this.methodDescriptor, requestParams);\n  }\n};\n\nexports.default = Request;\n\n\n// WEBPACK FOOTER //\n// ./lib/request.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gateway = require('../gateway');\n\nvar _gateway2 = _interopRequireDefault(_gateway);\n\nvar _response = require('../response');\n\nvar _response2 = _interopRequireDefault(_response);\n\nvar _utils = require('../utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction XHR(request) {\n  _gateway2.default.apply(this, arguments);\n}\n\nXHR.prototype = _gateway2.default.extends({\n  get: function get() {\n    var xmlHttpRequest = new XMLHttpRequest();\n    this.configureCallbacks(xmlHttpRequest);\n    xmlHttpRequest.open('get', this.request.url(), true);\n    this.setHeaders(xmlHttpRequest, {});\n    xmlHttpRequest.send();\n  },\n  post: function post() {\n    this.performRequest('post');\n  },\n  put: function put() {\n    this.performRequest('put');\n  },\n  patch: function patch() {\n    this.performRequest('patch');\n  },\n  delete: function _delete() {\n    this.performRequest('delete');\n  },\n  configureCallbacks: function configureCallbacks(xmlHttpRequest) {\n    var _this = this;\n\n    xmlHttpRequest.addEventListener('load', function () {\n      _this.dispatchResponse(_this.createResponse(xmlHttpRequest));\n    });\n\n    xmlHttpRequest.addEventListener('error', function () {\n      _this.dispatchClientError('Network error');\n    });\n\n    var xhrOptions = this.options().XHR;\n    if (xhrOptions.withCredentials) {\n      xmlHttpRequest.withCredentials = true;\n    }\n\n    if (xhrOptions.configure) {\n      xhrOptions.configure(xmlHttpRequest);\n    }\n  },\n  performRequest: function performRequest(method) {\n    var requestMethod = this.shouldEmulateHTTP() ? 'post' : method;\n    var xmlHttpRequest = new XMLHttpRequest();\n    this.configureCallbacks(xmlHttpRequest);\n    xmlHttpRequest.open(requestMethod, this.request.url(), true);\n\n    var customHeaders = {};\n    var body = this.prepareBody(method, customHeaders);\n    this.setHeaders(xmlHttpRequest, customHeaders);\n\n    var args = [];\n    body && args.push(body);\n\n    xmlHttpRequest.send.apply(xmlHttpRequest, args);\n  },\n  createResponse: function createResponse(xmlHttpRequest) {\n    var status = xmlHttpRequest.status;\n    var data = xmlHttpRequest.responseText;\n    var responseHeaders = (0, _utils.parseResponseHeaders)(xmlHttpRequest.getAllResponseHeaders());\n    return new _response2.default(this.request, status, data, responseHeaders);\n  },\n  setHeaders: function setHeaders(xmlHttpRequest, customHeaders) {\n    var headers = (0, _utils.assign)(customHeaders, this.request.headers());\n    Object.keys(headers).forEach(function (headerName) {\n      xmlHttpRequest.setRequestHeader(headerName, headers[headerName]);\n    });\n  }\n});\n\nexports.default = XHR;\n\n\n// WEBPACK FOOTER //\n// ./lib/gateway/xhr.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require('./utils');\n\nvar _index = require('./index');\n\nvar _response = require('./response');\n\nvar _response2 = _interopRequireDefault(_response);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Gateway(request) {\n  this.request = request;\n  this.successCallback = function () {};\n  this.failCallback = function () {};\n}\n\nGateway.extends = function (methods) {\n  return (0, _utils.assign)({}, Gateway.prototype, methods);\n};\n\nGateway.prototype = {\n  options: function options() {\n    return _index.configs.gatewayConfigs;\n  },\n  shouldEmulateHTTP: function shouldEmulateHTTP() {\n    return this.options().emulateHTTP && /^(delete|put|patch)/i.test(this.request.method());\n  },\n  call: function call() {\n    var _this = this,\n        _arguments = arguments;\n\n    var timeStart = (0, _utils.performanceNow)();\n    return new _index.configs.Promise(function (resolve, reject) {\n      _this.successCallback = function (response) {\n        response.timeElapsed = (0, _utils.performanceNow)() - timeStart;\n        resolve(response);\n      };\n\n      _this.failCallback = function (response) {\n        response.timeElapsed = (0, _utils.performanceNow)() - timeStart;\n        reject(response);\n      };\n\n      try {\n        _this[_this.request.method()].apply(_this, _arguments);\n      } catch (e) {\n        _this.dispatchClientError(e.message);\n      }\n    });\n  },\n  dispatchResponse: function dispatchResponse(response) {\n    response.success() ? this.successCallback(response) : this.failCallback(response);\n  },\n  dispatchClientError: function dispatchClientError(message) {\n    this.failCallback(new _response2.default(this.request, 400, message));\n  },\n  prepareBody: function prepareBody(method, headers) {\n    var body = this.request.body();\n\n    if (this.shouldEmulateHTTP()) {\n      body = body || {};\n      (0, _utils.isPlainObject)(body) && (body._method = method);\n      headers['x-http-method-override'] = method;\n    }\n\n    var bodyString = (0, _utils.toQueryString)(body);\n\n    if (bodyString) {\n      if (typeof bodyString.length === 'number') {\n        headers['content-length'] = bodyString.length;\n      }\n\n      // If it's not simple, let the browser (or the user) set it\n      if ((0, _utils.isPlainObject)(body)) {\n        headers['content-type'] = 'application/x-www-form-urlencoded;charset=utf-8';\n      }\n    }\n\n    return bodyString;\n  }\n};\n\nexports.default = Gateway;\n\n\n// WEBPACK FOOTER //\n// ./lib/gateway.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require('./utils');\n\n/**\n * @param {Request} originalRequest\n * @param {Integer} responseStatus\n * @param {String} responseData\n * @param {Object} responseHeaders, defaults to an empty object ({})\n */\nfunction Response(originalRequest, responseStatus, responseData, responseHeaders) {\n  this.originalRequest = originalRequest;\n  this.responseStatus = responseStatus;\n  this.responseData = responseData;\n  this.responseHeaders = responseHeaders || {};\n  this.timeElapsed = null;\n}\n\nResponse.prototype = {\n  /**\n   * @return {Request}\n   */\n  request: function request() {\n    return this.originalRequest;\n  },\n\n\n  /**\n   * @return {Integer}\n   */\n  status: function status() {\n    // IE sends 1223 instead of 204\n    if (this.responseStatus === 1223) {\n      return 204;\n    }\n\n    return this.responseStatus;\n  },\n\n\n  /**\n   * Returns true if status is greater or equal 200 or lower than 400\n   *\n   * @return {Boolean}\n   */\n  success: function success() {\n    var status = this.status();\n    return status >= 200 && status < 400;\n  },\n\n\n  /**\n   * Returns an object with the headers. Header names are converted to\n   * lowercase\n   *\n   * @return {Object}\n   */\n  headers: function headers() {\n    return (0, _utils.lowerCaseObjectKeys)(this.responseHeaders);\n  },\n  rawData: function rawData() {\n    return this.responseData;\n  },\n\n\n  /**\n   * Returns the response data, if \"Content-Type\" is \"application/json\"\n   * it parses the response and returns an object\n   *\n   * @return {String|Object}\n   */\n  data: function data() {\n    var data = this.responseData;\n\n    if (this.isContentTypeJSON()) {\n      try {\n        data = JSON.parse(this.responseData);\n      } catch (e) {}\n    }\n\n    return data;\n  },\n  isContentTypeJSON: function isContentTypeJSON() {\n    return (/application\\/json/.test(this.headers()['content-type'])\n    );\n  },\n\n\n  /**\n   * Enhances current Response returning a new Response\n   *\n   * @param {Object} extras\n   *   @param {Integer} extras.status - it will replace the current status\n   *   @param {String} extras.rawData - it will replace the current rawStatus\n   *   @param {Object} extras.headers - it will be merged with current headers\n   *\n   * @return {Response}\n   */\n  enhance: function enhance(extras) {\n    return new Response(this.request(), extras.status || this.status(), extras.rawData || this.rawData(), (0, _utils.assign)({}, this.headers(), extras.headers));\n  }\n};\n\nexports.default = Response;\n\n\n// WEBPACK FOOTER //\n// ./lib/response.js"],"sourceRoot":""}