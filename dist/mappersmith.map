{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///mappersmith.js","webpack:///webpack/bootstrap e1402fc3a479d09ce811","webpack:///./lib/utils.js","webpack:///./lib/mappersmith.js","webpack:///./lib/response.js","webpack:///./lib/index.js","webpack:///./lib/client-builder.js","webpack:///./lib/manifest.js","webpack:///./lib/method-descriptor.js","webpack:///./lib/request.js","webpack:///./lib/gateway/xhr.js","webpack:///./lib/gateway.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","toQueryString","entry","isPlainObject","validKeys","map","key","buildRecursive","join","replace","R20","performanceNow","hasProcessHrtime","getNanoSeconds","loadTime","Date","now","parseResponseHeaders","headerStr","headers","headerPairs","split","length","headerPair","index","indexOf","substring","toLowerCase","val","trim","lowerCaseObjectKeys","obj","keys","reduce","target","value","toString","getPrototypeOf","_typeof2","Symbol","iterator","constructor","_typeof","_process","eval","e","hrtime","hr","filter","undefined","suffix","isArray","Array","isObject","v","k","encodeURIComponent","assign","arguments","source","CHARS","btoa","input","block","charCode","output","str","String","idx","charAt","charCodeAt","Error","forge","manifest","GatewayClassFactory","configs","gateway","_clientBuilder2","default","gatewayConfigs","build","_clientBuilder","Promise","fetch","emulateHTTP","XHR","withCredentials","configure","HTTP","Fetch","credentials","Response","originalRequest","responseStatus","responseData","responseHeaders","requestParams","auth","_utils","password","timeElapsed","request","status","success","header","rawData","data","isContentTypeJSON","JSON","parse","test","enhance","extras","lib","defaultGateway","XMLHttpRequest","_interopRequireDefault","_defineProperty","writable","ClientBuilder","defaultGatewayConfigs","_manifest2","_manifest","_request","_request2","_this","client","eachResource","methods","buildResource","resourceName","_this2","resource","method","descriptor","invokeMiddlewares","resourceMethod","initialRequest","middlewares","createMiddlewares","finalRequest","middleware","GatewayClass","callGateway","next","response","Manifest","host","resources","_methodDescriptor","_methodDescriptor2","callback","forEach","eachMethod","methodName","createMethodDescriptor","definition","path","args","createInstance","middlewareFactory","MethodDescriptor","params","bodyAttr","headersAttr","authAttr","timeoutAttr","Request","methodDescriptor","REGEXP_DYNAMIC_SEGMENT","RegExp","isParam","pattern","missingDynamicSegmentMatch","match","queryString","url","body","timeout","headerKey","bodyKey","authKey","timeoutKey","_gateway2","apply","_gateway","_response","_response2","toBase64","window","extends","xmlHttpRequest","createXHR","open","setHeaders","configureTimeout","send","post","performRequest","put","patch","delete","canceled","timer","addEventListener","clearTimeout","dispatchClientError","setTimeout","configureCallbacks","dispatchResponse","createResponse","xhrOptions","options","requestMethod","shouldEmulateHTTP","customHeaders","prepareBody","push","responseText","getAllResponseHeaders","username","headerName","setRequestHeader","Gateway","successCallback","failCallback","_mappersmith","_arguments","timeStart","resolve","reject","message","_method","bodyString"],"mappings":"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","file":"mappersmith.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mappersmith\"] = factory();\n\telse\n\t\troot[\"mappersmith\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mappersmith\"] = factory();\n\telse\n\t\troot[\"mappersmith\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n};\n\nexports.toQueryString = toQueryString;\nexports.performanceNow = performanceNow;\nexports.parseResponseHeaders = parseResponseHeaders;\nexports.lowerCaseObjectKeys = lowerCaseObjectKeys;\nexports.isPlainObject = isPlainObject;\nvar _process = void 0,\n    getNanoSeconds = void 0,\n    loadTime = void 0;\ntry {\n  _process = eval('typeof __TEST_WEB__ === \"undefined\" && typeof process === \"object\" ? process : undefined');\n} catch (e) {} // eslint-disable-line no-eval\n\nvar hasProcessHrtime = function hasProcessHrtime() {\n  return typeof _process !== 'undefined' && _process !== null && _process.hrtime;\n};\n\nif (hasProcessHrtime()) {\n  getNanoSeconds = function getNanoSeconds() {\n    var hr = _process.hrtime();\n    return hr[0] * 1e9 + hr[1];\n  };\n  loadTime = getNanoSeconds();\n}\n\nvar R20 = /%20/g;\n\nvar validKeys = function validKeys(entry) {\n  return Object.keys(entry).filter(function (key) {\n    return entry[key] !== undefined && entry[key] !== null;\n  });\n};\n\nvar buildRecursive = function buildRecursive(key, value, suffix) {\n  suffix = suffix || '';\n  var isArray = Array.isArray(value);\n  var isObject = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n\n  if (!isArray && !isObject) {\n    return encodeURIComponent(key + suffix) + '=' + encodeURIComponent(value);\n  }\n\n  if (isArray) {\n    return value.map(function (v) {\n      return buildRecursive(key, v, suffix + '[]');\n    }).join('&');\n  }\n\n  return validKeys(value).map(function (k) {\n    return buildRecursive(key, value[k], suffix + '[' + k + ']');\n  }).join('&');\n};\n\nfunction toQueryString(entry) {\n  if (!isPlainObject(entry)) {\n    return entry;\n  }\n\n  return validKeys(entry).map(function (key) {\n    return buildRecursive(key, entry[key]);\n  }).join('&').replace(R20, '+');\n}\n\n/**\n * Gives time in miliseconds, but with sub-milisecond precision for Browser\n * and Nodejs\n */\nfunction performanceNow() {\n  if (hasProcessHrtime()) {\n    return (getNanoSeconds() - loadTime) / 1e6;\n  }\n\n  return Date.now();\n}\n\n/**\n * borrowed from: {@link https://gist.github.com/monsur/706839}\n * XmlHttpRequest's getAllResponseHeaders() method returns a string of response\n * headers according to the format described here:\n * {@link http://www.w3.org/TR/XMLHttpRequest/#the-getallresponseheaders-method}\n * This method parses that string into a user-friendly key/value pair object.\n */\nfunction parseResponseHeaders(headerStr) {\n  var headers = {};\n  if (!headerStr) {\n    return headers;\n  }\n\n  var headerPairs = headerStr.split('\\r\\n');\n  for (var i = 0; i < headerPairs.length; i++) {\n    var headerPair = headerPairs[i];\n    // Can't use split() here because it does the wrong thing\n    // if the header value has the string \": \" in it.\n    var index = headerPair.indexOf(': ');\n    if (index > 0) {\n      var key = headerPair.substring(0, index).toLowerCase();\n      var val = headerPair.substring(index + 2).trim();\n      headers[key] = val;\n    }\n  }\n  return headers;\n}\n\nfunction lowerCaseObjectKeys(obj) {\n  return Object.keys(obj).reduce(function (target, key) {\n    target[key.toLowerCase()] = obj[key];\n    return target;\n  }, {});\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar assign = exports.assign = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\n\nvar toString = Object.prototype.toString;\nfunction isPlainObject(value) {\n  return toString.call(value) === '[object Object]' && Object.getPrototypeOf(value) === Object.getPrototypeOf({});\n}\n\n/**\n * borrowed from: {@link https://github.com/davidchambers/Base64.js}\n */\nvar CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\nvar btoa = exports.btoa = function btoa(input) {\n  var output = '';\n  var map = CHARS;\n  var str = String(input);\n  for (\n  // initialize result and counter\n  var block, charCode, idx = 0;\n  // if the next str index does not exist:\n  //   change the mapping table to \"=\"\n  //   check if d has no fractional digits\n  str.charAt(idx | 0) || (map = '=', idx % 1);\n  // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n  output += map.charAt(63 & block >> 8 - idx % 1 * 8)) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new Error(\"[Mappersmith] 'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.configs = undefined;\nexports.default = forge;\n\nvar _clientBuilder = __webpack_require__(4);\n\nvar _clientBuilder2 = _interopRequireDefault(_clientBuilder);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar configs = exports.configs = {\n  Promise: typeof Promise === 'function' ? Promise : null,\n  fetch: typeof fetch === 'function' ? fetch : null, // eslint-disable-line no-undef\n\n  /**\n   * Gateway implementation, it defaults to \"lib/gateway/xhr\" for browsers and\n   * \"lib/gateway/http\" for node\n   */\n  gateway: null,\n  gatewayConfigs: {\n    /**\n     * Setting this option will fake PUT, PATCH and DELETE requests with a HTTP POST. It will\n     * add \"_method\" and \"X-HTTP-Method-Override\" with the original requested method\n     * @default false\n     */\n    emulateHTTP: false,\n\n    XHR: {\n      /**\n       * Indicates whether or not cross-site Access-Control requests should be made using credentials\n       * such as cookies, authorization headers or TLS client certificates.\n       * Setting withCredentials has no effect on same-site requests\n       *\n       * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials\n       *\n       * @default false\n       */\n      withCredentials: false,\n\n      /**\n       * For aditional configurations to the XMLHttpRequest object.\n       * @param {XMLHttpRequest} xhr\n       * @default null\n       */\n      configure: null\n    },\n\n    HTTP: {\n      /**\n       * For aditional configurations to the http/https module\n       * For http: https://nodejs.org/api/http.html#http_http_request_options_callback\n       * For https: https://nodejs.org/api/https.html#https_https_request_options_callback\n       *\n       * @param {object} options\n       * @default null\n       */\n      configure: null\n    },\n\n    Fetch: {\n      /**\n       * Indicates whether the user agent should send cookies from the other domain in the case of cross-origin\n       * requests. This is similar to XHR’s withCredentials flag, but with three available values (instead of two):\n       *\n       * \"omit\": Never send cookies.\n       * \"same-origin\": Only send cookies if the URL is on the same origin as the calling script.\n       * \"include\": Always send cookies, even for cross-origin calls.\n       *\n       * https://developer.mozilla.org/en-US/docs/Web/API/Request/credentials\n       *\n       * @default \"omit\"\n       */\n      credentials: 'omit'\n    }\n\n    /**\n     * @param {Object} manifest\n     */\n  } };function forge(manifest) {\n  var GatewayClassFactory = function GatewayClassFactory() {\n    return configs.gateway;\n  };\n  return new _clientBuilder2.default(manifest, GatewayClassFactory, configs.gatewayConfigs).build();\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(0);\n\n/**\n * @typedef Response\n * @param {Request} originalRequest, for auth it hides the password\n * @param {Integer} responseStatus\n * @param {String} responseData, defaults to null\n * @param {Object} responseHeaders, defaults to an empty object ({})\n */\nfunction Response(originalRequest, responseStatus, responseData, responseHeaders) {\n  if (originalRequest.requestParams && originalRequest.requestParams.auth) {\n    (0, _utils.assign)(originalRequest.requestParams.auth, { password: '***' });\n  }\n  this.originalRequest = originalRequest;\n  this.responseStatus = responseStatus;\n  this.responseData = responseData !== undefined ? responseData : null;\n  this.responseHeaders = responseHeaders || {};\n  this.timeElapsed = null;\n}\n\nResponse.prototype = {\n  /**\n   * @return {Request}\n   */\n  request: function request() {\n    return this.originalRequest;\n  },\n\n  /**\n   * @return {Integer}\n   */\n  status: function status() {\n    // IE sends 1223 instead of 204\n    if (this.responseStatus === 1223) {\n      return 204;\n    }\n\n    return this.responseStatus;\n  },\n\n  /**\n   * Returns true if status is greater or equal 200 or lower than 400\n   *\n   * @return {Boolean}\n   */\n  success: function success() {\n    var status = this.status();\n    return status >= 200 && status < 400;\n  },\n\n  /**\n   * Returns an object with the headers. Header names are converted to\n   * lowercase\n   *\n   * @return {Object}\n   */\n  headers: function headers() {\n    return (0, _utils.lowerCaseObjectKeys)(this.responseHeaders);\n  },\n\n  /**\n   * Utility method to get a header value by name\n   *\n   * @param {String} name\n   *\n   * @return {String|Undefined}\n   */\n  header: function header(name) {\n    return this.headers()[name.toLowerCase()];\n  },\n\n  /**\n   * Returns the original response data\n   */\n  rawData: function rawData() {\n    return this.responseData;\n  },\n\n  /**\n   * Returns the response data, if \"Content-Type\" is \"application/json\"\n   * it parses the response and returns an object\n   *\n   * @return {String|Object}\n   */\n  data: function data() {\n    var data = this.responseData;\n\n    if (this.isContentTypeJSON()) {\n      try {\n        data = JSON.parse(this.responseData);\n      } catch (e) {}\n    }\n\n    return data;\n  },\n  isContentTypeJSON: function isContentTypeJSON() {\n    return (/application\\/json/.test(this.headers()['content-type'])\n    );\n  },\n\n  /**\n   * Enhances current Response returning a new Response\n   *\n   * @param {Object} extras\n   *   @param {Integer} extras.status - it will replace the current status\n   *   @param {String} extras.rawData - it will replace the current rawStatus\n   *   @param {Object} extras.headers - it will be merged with current headers\n   *\n   * @return {Response}\n   */\n  enhance: function enhance(extras) {\n    return new Response(this.request(), extras.status || this.status(), extras.rawData || this.rawData(), (0, _utils.assign)({}, this.headers(), extras.headers));\n  }\n};\n\nexports.default = Response;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar lib = __webpack_require__(1);\nvar _process, defaultGateway;\n\n// Prevents webpack to load the nodejs processs polyfill\ntry {\n  _process = eval('typeof process === \"object\" ? process : undefined');\n} catch (e) {} // eslint-disable-line no-eval\n\nif (typeof XMLHttpRequest !== 'undefined') {\n  // For browsers use XHR adapter\n  defaultGateway = __webpack_require__(8).default;\n} else if (typeof _process !== 'undefined') {\n  // For node use HTTP adapter\n  defaultGateway = __webpack_require__(10).default;\n}\n\nlib.configs.gateway = defaultGateway;\nmodule.exports = lib;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _manifest = __webpack_require__(5);\n\nvar _manifest2 = _interopRequireDefault(_manifest);\n\nvar _request = __webpack_require__(7);\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _utils = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\n  } else {\n    obj[key] = value;\n  }return obj;\n}\n\n/**\n * @typedef ClientBuilder\n * @param {Object} manifest - manifest definition with at least the `resources` key\n * @param {Function} GatewayClassFactory - factory function that returns a gateway class\n */\nfunction ClientBuilder(manifest, GatewayClassFactory, defaultGatewayConfigs) {\n  if (!manifest) {\n    throw new Error('[Mappersmith] invalid manifest (' + manifest + ')');\n  }\n\n  if (!GatewayClassFactory || !GatewayClassFactory()) {\n    throw new Error('[Mappersmith] gateway class not configured (configs.gateway)');\n  }\n\n  this.manifest = new _manifest2.default(manifest, defaultGatewayConfigs);\n  this.GatewayClassFactory = GatewayClassFactory;\n}\n\nClientBuilder.prototype = {\n  build: function build() {\n    var _this = this;\n\n    var client = { _manifest: this.manifest };\n\n    this.manifest.eachResource(function (name, methods) {\n      client[name] = _this.buildResource(name, methods);\n    });\n\n    return client;\n  },\n  buildResource: function buildResource(resourceName, methods) {\n    var _this2 = this;\n\n    return methods.reduce(function (resource, method) {\n      return (0, _utils.assign)(resource, _defineProperty({}, method.name, function (requestParams) {\n        var request = new _request2.default(method.descriptor, requestParams);\n        return _this2.invokeMiddlewares(resourceName, method.name, request);\n      }));\n    }, {});\n  },\n  invokeMiddlewares: function invokeMiddlewares(resourceName, resourceMethod, initialRequest) {\n    var middlewares = this.manifest.createMiddlewares({ resourceName: resourceName, resourceMethod: resourceMethod });\n    var finalRequest = middlewares.reduce(function (request, middleware) {\n      return middleware.request(request);\n    }, initialRequest);\n\n    var GatewayClass = this.GatewayClassFactory();\n    var gatewayConfigs = this.manifest.gatewayConfigs;\n    var callGateway = function callGateway() {\n      return new GatewayClass(finalRequest, gatewayConfigs).call();\n    };\n\n    var execute = middlewares.reduce(function (next, middleware) {\n      return function () {\n        return middleware.response(next);\n      };\n    }, callGateway);\n\n    return execute();\n  }\n};\n\nexports.default = ClientBuilder;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _methodDescriptor = __webpack_require__(6);\n\nvar _methodDescriptor2 = _interopRequireDefault(_methodDescriptor);\n\nvar _utils = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * @typedef Manifest\n * @param {Object} obj\n *   @param {String} obj.host\n *   @param {Object} obj.gatewayConfigs - default: base values from mappersmith\n *   @param {Object} obj.resources - default: {}\n *   @param {Array}  obj.middlewares - default: []\n */\nfunction Manifest(obj) {\n  var defaultGatewayConfigs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  this.host = obj.host;\n  this.gatewayConfigs = (0, _utils.assign)({}, defaultGatewayConfigs, obj.gatewayConfigs);\n  this.resources = obj.resources || {};\n  this.middlewares = obj.middlewares || [];\n}\n\nManifest.prototype = {\n  eachResource: function eachResource(callback) {\n    var _this = this;\n\n    Object.keys(this.resources).forEach(function (resourceName) {\n      var methods = _this.eachMethod(resourceName, function (methodName) {\n        return {\n          name: methodName,\n          descriptor: _this.createMethodDescriptor(resourceName, methodName)\n        };\n      });\n\n      callback(resourceName, methods);\n    });\n  },\n  eachMethod: function eachMethod(resourceName, callback) {\n    return Object.keys(this.resources[resourceName]).map(function (name) {\n      return callback(name);\n    });\n  },\n  createMethodDescriptor: function createMethodDescriptor(resourceName, methodName) {\n    var definition = this.resources[resourceName][methodName];\n\n    if (!definition || !definition.path) {\n      throw new Error('[Mappersmith] path is undefined for resource \"' + resourceName + '\" method \"' + methodName + '\"');\n    }\n\n    return new _methodDescriptor2.default((0, _utils.assign)({ host: this.host }, definition));\n  },\n\n  /**\n   * @param {Object} args\n   *   @param {String} args.resourceName\n   *   @param {String} args.resourceMethod\n   *   @param {Boolean} args.mockRequest\n   *\n   * @return {Array<Object>}\n   */\n  createMiddlewares: function createMiddlewares() {\n    var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var createInstance = function createInstance(middlewareFactory) {\n      return (0, _utils.assign)({\n        request: function request(_request) {\n          return _request;\n        },\n        response: function response(next) {\n          return next();\n        }\n      }, middlewareFactory(args));\n    };\n\n    return this.middlewares.map(function (middleware) {\n      return createInstance(middleware);\n    });\n  }\n};\n\nexports.default = Manifest;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = MethodDescriptor;\n/**\n * @typedef MethodDescriptor\n * @param {Object} obj\n *   @param {String} obj.host\n *   @param {String} obj.path\n *   @param {String} obj.method\n *   @param {Object} obj.headers\n *   @param {Object} obj.params\n *   @param {String} obj.bodyAttr - body attribute name. Default: 'body'\n *   @param {String} obj.headersAttr - headers attribute name. Default: 'headers'\n *   @param {String} obj.authAttr - auth attribute name. Default: 'auth'\n *   @param {Number} obj.timeoutAttr - timeout attribute name. Default: 'timeout'\n */\nfunction MethodDescriptor(obj) {\n  this.host = obj.host;\n  this.path = obj.path;\n  this.method = obj.method || 'get';\n  this.headers = obj.headers;\n  this.params = obj.params;\n\n  this.bodyAttr = obj.bodyAttr || 'body';\n  this.headersAttr = obj.headersAttr || 'headers';\n  this.authAttr = obj.authAttr || 'auth';\n  this.timeoutAttr = obj.timeoutAttr || 'timeout';\n}\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(0);\n\nvar REGEXP_DYNAMIC_SEGMENT = new RegExp('{([^}]+)}');\n\n/**\n * @typedef Request\n * @param {MethodDescriptor} methodDescriptor\n * @param {Object} requestParams, defaults to an empty object ({})\n */\nfunction Request(methodDescriptor, requestParams) {\n  this.methodDescriptor = methodDescriptor;\n  this.requestParams = requestParams || {};\n}\n\nRequest.prototype = {\n  /**\n   * @return {Object}\n   */\n  params: function params() {\n    var _this = this;\n\n    var params = (0, _utils.assign)({}, this.methodDescriptor.params, this.requestParams);\n\n    var isParam = function isParam(key) {\n      return key !== _this.methodDescriptor.headersAttr && key !== _this.methodDescriptor.bodyAttr && key !== _this.methodDescriptor.authAttr && key !== _this.methodDescriptor.timeoutAttr;\n    };\n\n    return Object.keys(params).reduce(function (obj, key) {\n      if (isParam(key)) {\n        obj[key] = params[key];\n      }\n      return obj;\n    }, {});\n  },\n\n  /**\n   * Returns the HTTP method in lowercase\n   *\n   * @return {String}\n   */\n  method: function method() {\n    return this.methodDescriptor.method.toLowerCase();\n  },\n\n  /**\n   * Returns host name without trailing slash\n   * Example: http://example.org\n   *\n   * @return {String}\n   */\n  host: function host() {\n    return (this.methodDescriptor.host || '').replace(/\\/$/, '');\n  },\n\n  /**\n   * Returns path with parameters and leading slash.\n   * Example: /some/path?param1=true\n   *\n   * @throws {Error} if any dynamic segment is missing.\n   * Example:\n   * Imagine the path '/some/{name}', the error will be similar to:\n   * '[Mappersmith] required parameter missing (name), \"/some/{name}\" cannot be resolved'\n   *\n   * @return {String}\n   */\n  path: function path() {\n    var path = this.methodDescriptor.path;\n\n    if (this.methodDescriptor.path[0] !== '/') {\n      path = '/' + this.methodDescriptor.path;\n    }\n\n    var params = this.params();\n    Object.keys(params).forEach(function (key) {\n      var value = params[key];\n      var pattern = '{' + key + '}';\n\n      if (new RegExp(pattern).test(path)) {\n        path = path.replace('{' + key + '}', value);\n        delete params[key];\n      }\n    });\n\n    var missingDynamicSegmentMatch = path.match(REGEXP_DYNAMIC_SEGMENT);\n    if (missingDynamicSegmentMatch) {\n      throw new Error('[Mappersmith] required parameter missing (' + missingDynamicSegmentMatch[1] + '), \"' + path + '\" cannot be resolved');\n    }\n\n    var queryString = (0, _utils.toQueryString)(params);\n    if (queryString.length !== 0) {\n      path += '?' + queryString;\n    }\n\n    return path;\n  },\n\n  /**\n   * Returns the full URL\n   * Example: http://example.org/some/path?param1=true\n   *\n   * @return {String}\n   */\n  url: function url() {\n    return '' + this.host() + this.path();\n  },\n\n  /**\n   * Returns an object with the headers. Header names are converted to\n   * lowercase\n   *\n   * @return {Object}\n   */\n  headers: function headers() {\n    return (0, _utils.lowerCaseObjectKeys)((0, _utils.assign)({}, this.methodDescriptor.headers, this.requestParams[this.methodDescriptor.headersAttr]));\n  },\n  body: function body() {\n    return this.requestParams[this.methodDescriptor.bodyAttr];\n  },\n  auth: function auth() {\n    return this.requestParams[this.methodDescriptor.authAttr];\n  },\n  timeout: function timeout() {\n    return this.requestParams[this.methodDescriptor.timeoutAttr];\n  },\n\n  /**\n   * Enhances current request returning a new Request\n   * @param {Object} extras\n   *   @param {Object} extras.params - it will be merged with current params\n   *   @param {Object} extras.headers - it will be merged with current headers\n   *   @param {String|Object} extras.body - it will replace the current body\n   *   @param {Object} extras.auth - it will replace the current auth\n   *   @param {Number} extras.timeout - it will replace the current timeout\n   */\n  enhance: function enhance(extras) {\n    var headerKey = this.methodDescriptor.headersAttr;\n    var bodyKey = this.methodDescriptor.bodyAttr;\n    var authKey = this.methodDescriptor.authAttr;\n    var timeoutKey = this.methodDescriptor.timeoutAttr;\n    var requestParams = (0, _utils.assign)({}, this.requestParams, extras.params);\n\n    requestParams[headerKey] = (0, _utils.assign)({}, this.requestParams[headerKey], extras.headers);\n    extras.body && (requestParams[bodyKey] = extras.body);\n    extras.auth && (requestParams[authKey] = extras.auth);\n    extras.timeout && (requestParams[timeoutKey] = extras.timeout);\n\n    return new Request(this.methodDescriptor, requestParams);\n  }\n};\n\nexports.default = Request;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gateway = __webpack_require__(9);\n\nvar _gateway2 = _interopRequireDefault(_gateway);\n\nvar _response = __webpack_require__(2);\n\nvar _response2 = _interopRequireDefault(_response);\n\nvar _utils = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar toBase64 = window.btoa || _utils.btoa;\n\nfunction XHR(request) {\n  _gateway2.default.apply(this, arguments);\n}\n\nXHR.prototype = _gateway2.default.extends({\n  get: function get() {\n    var xmlHttpRequest = this.createXHR();\n    xmlHttpRequest.open('get', this.request.url(), true);\n    this.setHeaders(xmlHttpRequest, {});\n    this.configureTimeout(xmlHttpRequest);\n    xmlHttpRequest.send();\n  },\n  post: function post() {\n    this.performRequest('post');\n  },\n  put: function put() {\n    this.performRequest('put');\n  },\n  patch: function patch() {\n    this.performRequest('patch');\n  },\n  delete: function _delete() {\n    this.performRequest('delete');\n  },\n  configureTimeout: function configureTimeout(xmlHttpRequest) {\n    var _this = this;\n\n    this.canceled = false;\n    this.timer = null;\n\n    var timeout = this.request.timeout();\n\n    if (timeout) {\n      xmlHttpRequest.timeout = timeout;\n      xmlHttpRequest.addEventListener('timeout', function () {\n        _this.canceled = true;\n        clearTimeout(_this.timer);\n        _this.dispatchClientError('Timeout (' + timeout + 'ms)');\n      });\n\n      // PhantomJS doesn't support timeout for XMLHttpRequest\n      this.timer = setTimeout(function () {\n        _this.canceled = true;\n        _this.dispatchClientError('Timeout (' + timeout + 'ms)');\n      }, timeout + 1);\n    }\n  },\n  configureCallbacks: function configureCallbacks(xmlHttpRequest) {\n    var _this2 = this;\n\n    xmlHttpRequest.addEventListener('load', function () {\n      if (_this2.canceled) {\n        return;\n      }\n\n      clearTimeout(_this2.timer);\n      _this2.dispatchResponse(_this2.createResponse(xmlHttpRequest));\n    });\n\n    xmlHttpRequest.addEventListener('error', function () {\n      if (_this2.canceled) {\n        return;\n      }\n\n      clearTimeout(_this2.timer);\n      _this2.dispatchClientError('Network error');\n    });\n\n    var xhrOptions = this.options().XHR;\n    if (xhrOptions.withCredentials) {\n      xmlHttpRequest.withCredentials = true;\n    }\n\n    if (xhrOptions.configure) {\n      xhrOptions.configure(xmlHttpRequest);\n    }\n  },\n  performRequest: function performRequest(method) {\n    var requestMethod = this.shouldEmulateHTTP() ? 'post' : method;\n    var xmlHttpRequest = this.createXHR();\n    xmlHttpRequest.open(requestMethod, this.request.url(), true);\n\n    var customHeaders = {};\n    var body = this.prepareBody(method, customHeaders);\n    this.setHeaders(xmlHttpRequest, customHeaders);\n    this.configureTimeout(xmlHttpRequest);\n\n    var args = [];\n    body && args.push(body);\n\n    xmlHttpRequest.send.apply(xmlHttpRequest, args);\n  },\n  createResponse: function createResponse(xmlHttpRequest) {\n    var status = xmlHttpRequest.status;\n    var data = xmlHttpRequest.responseText;\n    var responseHeaders = (0, _utils.parseResponseHeaders)(xmlHttpRequest.getAllResponseHeaders());\n    return new _response2.default(this.request, status, data, responseHeaders);\n  },\n  setHeaders: function setHeaders(xmlHttpRequest, customHeaders) {\n    var auth = this.request.auth();\n    if (auth) {\n      var username = auth.username || '';\n      var password = auth.password || '';\n      customHeaders['authorization'] = 'Basic ' + toBase64(username + ':' + password);\n    }\n\n    var headers = (0, _utils.assign)(customHeaders, this.request.headers());\n    Object.keys(headers).forEach(function (headerName) {\n      xmlHttpRequest.setRequestHeader(headerName, headers[headerName]);\n    });\n  },\n  createXHR: function createXHR() {\n    var xmlHttpRequest = new XMLHttpRequest(); // eslint-disable-line no-undef\n    this.configureCallbacks(xmlHttpRequest);\n    return xmlHttpRequest;\n  }\n});\n\nexports.default = XHR;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(0);\n\nvar _mappersmith = __webpack_require__(1);\n\nvar _response = __webpack_require__(2);\n\nvar _response2 = _interopRequireDefault(_response);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction Gateway(request) {\n  var configs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.request = request;\n  this.configs = configs;\n  this.successCallback = function () {};\n  this.failCallback = function () {};\n}\n\nGateway.extends = function (methods) {\n  return (0, _utils.assign)({}, Gateway.prototype, methods);\n};\n\nGateway.prototype = {\n  options: function options() {\n    return this.configs;\n  },\n  shouldEmulateHTTP: function shouldEmulateHTTP() {\n    return this.options().emulateHTTP && /^(delete|put|patch)/i.test(this.request.method());\n  },\n  call: function call() {\n    var _this = this,\n        _arguments = arguments;\n\n    var timeStart = (0, _utils.performanceNow)();\n    return new _mappersmith.configs.Promise(function (resolve, reject) {\n      _this.successCallback = function (response) {\n        response.timeElapsed = (0, _utils.performanceNow)() - timeStart;\n        resolve(response);\n      };\n\n      _this.failCallback = function (response) {\n        response.timeElapsed = (0, _utils.performanceNow)() - timeStart;\n        reject(response);\n      };\n\n      try {\n        _this[_this.request.method()].apply(_this, _arguments);\n      } catch (e) {\n        _this.dispatchClientError(e.message);\n      }\n    });\n  },\n  dispatchResponse: function dispatchResponse(response) {\n    response.success() ? this.successCallback(response) : this.failCallback(response);\n  },\n  dispatchClientError: function dispatchClientError(message) {\n    this.failCallback(new _response2.default(this.request, 400, message));\n  },\n  prepareBody: function prepareBody(method, headers) {\n    var body = this.request.body();\n\n    if (this.shouldEmulateHTTP()) {\n      body = body || {};\n      (0, _utils.isPlainObject)(body) && (body._method = method);\n      headers['x-http-method-override'] = method;\n    }\n\n    var bodyString = (0, _utils.toQueryString)(body);\n\n    if (bodyString) {\n      // If it's not simple, let the browser (or the user) set it\n      if ((0, _utils.isPlainObject)(body)) {\n        headers['content-type'] = 'application/x-www-form-urlencoded;charset=utf-8';\n      }\n    }\n\n    return bodyString;\n  }\n};\n\nexports.default = Gateway;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// mappersmith.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e1402fc3a479d09ce811","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.toQueryString = toQueryString;\nexports.performanceNow = performanceNow;\nexports.parseResponseHeaders = parseResponseHeaders;\nexports.lowerCaseObjectKeys = lowerCaseObjectKeys;\nexports.isPlainObject = isPlainObject;\nvar _process = void 0,\n    getNanoSeconds = void 0,\n    loadTime = void 0;\ntry {\n  _process = eval('typeof __TEST_WEB__ === \"undefined\" && typeof process === \"object\" ? process : undefined');\n} catch (e) {} // eslint-disable-line no-eval\n\nvar hasProcessHrtime = function hasProcessHrtime() {\n  return typeof _process !== 'undefined' && _process !== null && _process.hrtime;\n};\n\nif (hasProcessHrtime()) {\n  getNanoSeconds = function getNanoSeconds() {\n    var hr = _process.hrtime();\n    return hr[0] * 1e9 + hr[1];\n  };\n  loadTime = getNanoSeconds();\n}\n\nvar R20 = /%20/g;\n\nvar validKeys = function validKeys(entry) {\n  return Object.keys(entry).filter(function (key) {\n    return entry[key] !== undefined && entry[key] !== null;\n  });\n};\n\nvar buildRecursive = function buildRecursive(key, value, suffix) {\n  suffix = suffix || '';\n  var isArray = Array.isArray(value);\n  var isObject = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n\n  if (!isArray && !isObject) {\n    return encodeURIComponent(key + suffix) + '=' + encodeURIComponent(value);\n  }\n\n  if (isArray) {\n    return value.map(function (v) {\n      return buildRecursive(key, v, suffix + '[]');\n    }).join('&');\n  }\n\n  return validKeys(value).map(function (k) {\n    return buildRecursive(key, value[k], suffix + '[' + k + ']');\n  }).join('&');\n};\n\nfunction toQueryString(entry) {\n  if (!isPlainObject(entry)) {\n    return entry;\n  }\n\n  return validKeys(entry).map(function (key) {\n    return buildRecursive(key, entry[key]);\n  }).join('&').replace(R20, '+');\n}\n\n/**\n * Gives time in miliseconds, but with sub-milisecond precision for Browser\n * and Nodejs\n */\nfunction performanceNow() {\n  if (hasProcessHrtime()) {\n    return (getNanoSeconds() - loadTime) / 1e6;\n  }\n\n  return Date.now();\n}\n\n/**\n * borrowed from: {@link https://gist.github.com/monsur/706839}\n * XmlHttpRequest's getAllResponseHeaders() method returns a string of response\n * headers according to the format described here:\n * {@link http://www.w3.org/TR/XMLHttpRequest/#the-getallresponseheaders-method}\n * This method parses that string into a user-friendly key/value pair object.\n */\nfunction parseResponseHeaders(headerStr) {\n  var headers = {};\n  if (!headerStr) {\n    return headers;\n  }\n\n  var headerPairs = headerStr.split('\\r\\n');\n  for (var i = 0; i < headerPairs.length; i++) {\n    var headerPair = headerPairs[i];\n    // Can't use split() here because it does the wrong thing\n    // if the header value has the string \": \" in it.\n    var index = headerPair.indexOf(': ');\n    if (index > 0) {\n      var key = headerPair.substring(0, index).toLowerCase();\n      var val = headerPair.substring(index + 2).trim();\n      headers[key] = val;\n    }\n  }\n  return headers;\n}\n\nfunction lowerCaseObjectKeys(obj) {\n  return Object.keys(obj).reduce(function (target, key) {\n    target[key.toLowerCase()] = obj[key];\n    return target;\n  }, {});\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar assign = exports.assign = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\n\nvar toString = Object.prototype.toString;\nfunction isPlainObject(value) {\n  return toString.call(value) === '[object Object]' && Object.getPrototypeOf(value) === Object.getPrototypeOf({});\n}\n\n/**\n * borrowed from: {@link https://github.com/davidchambers/Base64.js}\n */\nvar CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\nvar btoa = exports.btoa = function btoa(input) {\n  var output = '';\n  var map = CHARS;\n  var str = String(input);\n  for (\n  // initialize result and counter\n  var block, charCode, idx = 0;\n  // if the next str index does not exist:\n  //   change the mapping table to \"=\"\n  //   check if d has no fractional digits\n  str.charAt(idx | 0) || (map = '=', idx % 1);\n  // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n  output += map.charAt(63 & block >> 8 - idx % 1 * 8)) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new Error(\"[Mappersmith] 'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n};\n\n\n// WEBPACK FOOTER //\n// ./lib/utils.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.configs = undefined;\nexports.default = forge;\n\nvar _clientBuilder = require('./client-builder');\n\nvar _clientBuilder2 = _interopRequireDefault(_clientBuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar configs = exports.configs = {\n  Promise: typeof Promise === 'function' ? Promise : null,\n  fetch: typeof fetch === 'function' ? fetch : null, // eslint-disable-line no-undef\n\n  /**\n   * Gateway implementation, it defaults to \"lib/gateway/xhr\" for browsers and\n   * \"lib/gateway/http\" for node\n   */\n  gateway: null,\n  gatewayConfigs: {\n    /**\n     * Setting this option will fake PUT, PATCH and DELETE requests with a HTTP POST. It will\n     * add \"_method\" and \"X-HTTP-Method-Override\" with the original requested method\n     * @default false\n     */\n    emulateHTTP: false,\n\n    XHR: {\n      /**\n       * Indicates whether or not cross-site Access-Control requests should be made using credentials\n       * such as cookies, authorization headers or TLS client certificates.\n       * Setting withCredentials has no effect on same-site requests\n       *\n       * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials\n       *\n       * @default false\n       */\n      withCredentials: false,\n\n      /**\n       * For aditional configurations to the XMLHttpRequest object.\n       * @param {XMLHttpRequest} xhr\n       * @default null\n       */\n      configure: null\n    },\n\n    HTTP: {\n      /**\n       * For aditional configurations to the http/https module\n       * For http: https://nodejs.org/api/http.html#http_http_request_options_callback\n       * For https: https://nodejs.org/api/https.html#https_https_request_options_callback\n       *\n       * @param {object} options\n       * @default null\n       */\n      configure: null\n    },\n\n    Fetch: {\n      /**\n       * Indicates whether the user agent should send cookies from the other domain in the case of cross-origin\n       * requests. This is similar to XHR’s withCredentials flag, but with three available values (instead of two):\n       *\n       * \"omit\": Never send cookies.\n       * \"same-origin\": Only send cookies if the URL is on the same origin as the calling script.\n       * \"include\": Always send cookies, even for cross-origin calls.\n       *\n       * https://developer.mozilla.org/en-US/docs/Web/API/Request/credentials\n       *\n       * @default \"omit\"\n       */\n      credentials: 'omit'\n    }\n  }\n\n  /**\n   * @param {Object} manifest\n   */\n};function forge(manifest) {\n  var GatewayClassFactory = function GatewayClassFactory() {\n    return configs.gateway;\n  };\n  return new _clientBuilder2.default(manifest, GatewayClassFactory, configs.gatewayConfigs).build();\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/mappersmith.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require('./utils');\n\n/**\n * @typedef Response\n * @param {Request} originalRequest, for auth it hides the password\n * @param {Integer} responseStatus\n * @param {String} responseData, defaults to null\n * @param {Object} responseHeaders, defaults to an empty object ({})\n */\nfunction Response(originalRequest, responseStatus, responseData, responseHeaders) {\n  if (originalRequest.requestParams && originalRequest.requestParams.auth) {\n    (0, _utils.assign)(originalRequest.requestParams.auth, { password: '***' });\n  }\n  this.originalRequest = originalRequest;\n  this.responseStatus = responseStatus;\n  this.responseData = responseData !== undefined ? responseData : null;\n  this.responseHeaders = responseHeaders || {};\n  this.timeElapsed = null;\n}\n\nResponse.prototype = {\n  /**\n   * @return {Request}\n   */\n  request: function request() {\n    return this.originalRequest;\n  },\n\n\n  /**\n   * @return {Integer}\n   */\n  status: function status() {\n    // IE sends 1223 instead of 204\n    if (this.responseStatus === 1223) {\n      return 204;\n    }\n\n    return this.responseStatus;\n  },\n\n\n  /**\n   * Returns true if status is greater or equal 200 or lower than 400\n   *\n   * @return {Boolean}\n   */\n  success: function success() {\n    var status = this.status();\n    return status >= 200 && status < 400;\n  },\n\n\n  /**\n   * Returns an object with the headers. Header names are converted to\n   * lowercase\n   *\n   * @return {Object}\n   */\n  headers: function headers() {\n    return (0, _utils.lowerCaseObjectKeys)(this.responseHeaders);\n  },\n\n\n  /**\n   * Utility method to get a header value by name\n   *\n   * @param {String} name\n   *\n   * @return {String|Undefined}\n   */\n  header: function header(name) {\n    return this.headers()[name.toLowerCase()];\n  },\n\n\n  /**\n   * Returns the original response data\n   */\n  rawData: function rawData() {\n    return this.responseData;\n  },\n\n\n  /**\n   * Returns the response data, if \"Content-Type\" is \"application/json\"\n   * it parses the response and returns an object\n   *\n   * @return {String|Object}\n   */\n  data: function data() {\n    var data = this.responseData;\n\n    if (this.isContentTypeJSON()) {\n      try {\n        data = JSON.parse(this.responseData);\n      } catch (e) {}\n    }\n\n    return data;\n  },\n  isContentTypeJSON: function isContentTypeJSON() {\n    return (/application\\/json/.test(this.headers()['content-type'])\n    );\n  },\n\n\n  /**\n   * Enhances current Response returning a new Response\n   *\n   * @param {Object} extras\n   *   @param {Integer} extras.status - it will replace the current status\n   *   @param {String} extras.rawData - it will replace the current rawStatus\n   *   @param {Object} extras.headers - it will be merged with current headers\n   *\n   * @return {Response}\n   */\n  enhance: function enhance(extras) {\n    return new Response(this.request(), extras.status || this.status(), extras.rawData || this.rawData(), (0, _utils.assign)({}, this.headers(), extras.headers));\n  }\n};\n\nexports.default = Response;\n\n\n// WEBPACK FOOTER //\n// ./lib/response.js","'use strict';\n\nvar lib = require('./mappersmith');\nvar _process, defaultGateway;\n\n// Prevents webpack to load the nodejs processs polyfill\ntry {\n  _process = eval('typeof process === \"object\" ? process : undefined');\n} catch (e) {} // eslint-disable-line no-eval\n\nif (typeof XMLHttpRequest !== 'undefined') {\n  // For browsers use XHR adapter\n  defaultGateway = require('./gateway/xhr').default;\n} else if (typeof _process !== 'undefined') {\n  // For node use HTTP adapter\n  defaultGateway = require('./gateway/http').default;\n}\n\nlib.configs.gateway = defaultGateway;\nmodule.exports = lib;\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _manifest = require('./manifest');\n\nvar _manifest2 = _interopRequireDefault(_manifest);\n\nvar _request = require('./request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * @typedef ClientBuilder\n * @param {Object} manifest - manifest definition with at least the `resources` key\n * @param {Function} GatewayClassFactory - factory function that returns a gateway class\n */\nfunction ClientBuilder(manifest, GatewayClassFactory, defaultGatewayConfigs) {\n  if (!manifest) {\n    throw new Error('[Mappersmith] invalid manifest (' + manifest + ')');\n  }\n\n  if (!GatewayClassFactory || !GatewayClassFactory()) {\n    throw new Error('[Mappersmith] gateway class not configured (configs.gateway)');\n  }\n\n  this.manifest = new _manifest2.default(manifest, defaultGatewayConfigs);\n  this.GatewayClassFactory = GatewayClassFactory;\n}\n\nClientBuilder.prototype = {\n  build: function build() {\n    var _this = this;\n\n    var client = { _manifest: this.manifest };\n\n    this.manifest.eachResource(function (name, methods) {\n      client[name] = _this.buildResource(name, methods);\n    });\n\n    return client;\n  },\n  buildResource: function buildResource(resourceName, methods) {\n    var _this2 = this;\n\n    return methods.reduce(function (resource, method) {\n      return (0, _utils.assign)(resource, _defineProperty({}, method.name, function (requestParams) {\n        var request = new _request2.default(method.descriptor, requestParams);\n        return _this2.invokeMiddlewares(resourceName, method.name, request);\n      }));\n    }, {});\n  },\n  invokeMiddlewares: function invokeMiddlewares(resourceName, resourceMethod, initialRequest) {\n    var middlewares = this.manifest.createMiddlewares({ resourceName: resourceName, resourceMethod: resourceMethod });\n    var finalRequest = middlewares.reduce(function (request, middleware) {\n      return middleware.request(request);\n    }, initialRequest);\n\n    var GatewayClass = this.GatewayClassFactory();\n    var gatewayConfigs = this.manifest.gatewayConfigs;\n    var callGateway = function callGateway() {\n      return new GatewayClass(finalRequest, gatewayConfigs).call();\n    };\n\n    var execute = middlewares.reduce(function (next, middleware) {\n      return function () {\n        return middleware.response(next);\n      };\n    }, callGateway);\n\n    return execute();\n  }\n};\n\nexports.default = ClientBuilder;\n\n\n// WEBPACK FOOTER //\n// ./lib/client-builder.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _methodDescriptor = require('./method-descriptor');\n\nvar _methodDescriptor2 = _interopRequireDefault(_methodDescriptor);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @typedef Manifest\n * @param {Object} obj\n *   @param {String} obj.host\n *   @param {Object} obj.gatewayConfigs - default: base values from mappersmith\n *   @param {Object} obj.resources - default: {}\n *   @param {Array}  obj.middlewares - default: []\n */\nfunction Manifest(obj) {\n  var defaultGatewayConfigs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  this.host = obj.host;\n  this.gatewayConfigs = (0, _utils.assign)({}, defaultGatewayConfigs, obj.gatewayConfigs);\n  this.resources = obj.resources || {};\n  this.middlewares = obj.middlewares || [];\n}\n\nManifest.prototype = {\n  eachResource: function eachResource(callback) {\n    var _this = this;\n\n    Object.keys(this.resources).forEach(function (resourceName) {\n      var methods = _this.eachMethod(resourceName, function (methodName) {\n        return {\n          name: methodName,\n          descriptor: _this.createMethodDescriptor(resourceName, methodName)\n        };\n      });\n\n      callback(resourceName, methods);\n    });\n  },\n  eachMethod: function eachMethod(resourceName, callback) {\n    return Object.keys(this.resources[resourceName]).map(function (name) {\n      return callback(name);\n    });\n  },\n  createMethodDescriptor: function createMethodDescriptor(resourceName, methodName) {\n    var definition = this.resources[resourceName][methodName];\n\n    if (!definition || !definition.path) {\n      throw new Error('[Mappersmith] path is undefined for resource \"' + resourceName + '\" method \"' + methodName + '\"');\n    }\n\n    return new _methodDescriptor2.default((0, _utils.assign)({ host: this.host }, definition));\n  },\n\n\n  /**\n   * @param {Object} args\n   *   @param {String} args.resourceName\n   *   @param {String} args.resourceMethod\n   *   @param {Boolean} args.mockRequest\n   *\n   * @return {Array<Object>}\n   */\n  createMiddlewares: function createMiddlewares() {\n    var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var createInstance = function createInstance(middlewareFactory) {\n      return (0, _utils.assign)({\n        request: function request(_request) {\n          return _request;\n        },\n        response: function response(next) {\n          return next();\n        }\n      }, middlewareFactory(args));\n    };\n\n    return this.middlewares.map(function (middleware) {\n      return createInstance(middleware);\n    });\n  }\n};\n\nexports.default = Manifest;\n\n\n// WEBPACK FOOTER //\n// ./lib/manifest.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = MethodDescriptor;\n/**\n * @typedef MethodDescriptor\n * @param {Object} obj\n *   @param {String} obj.host\n *   @param {String} obj.path\n *   @param {String} obj.method\n *   @param {Object} obj.headers\n *   @param {Object} obj.params\n *   @param {String} obj.bodyAttr - body attribute name. Default: 'body'\n *   @param {String} obj.headersAttr - headers attribute name. Default: 'headers'\n *   @param {String} obj.authAttr - auth attribute name. Default: 'auth'\n *   @param {Number} obj.timeoutAttr - timeout attribute name. Default: 'timeout'\n */\nfunction MethodDescriptor(obj) {\n  this.host = obj.host;\n  this.path = obj.path;\n  this.method = obj.method || 'get';\n  this.headers = obj.headers;\n  this.params = obj.params;\n\n  this.bodyAttr = obj.bodyAttr || 'body';\n  this.headersAttr = obj.headersAttr || 'headers';\n  this.authAttr = obj.authAttr || 'auth';\n  this.timeoutAttr = obj.timeoutAttr || 'timeout';\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/method-descriptor.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require('./utils');\n\nvar REGEXP_DYNAMIC_SEGMENT = new RegExp('{([^}]+)}');\n\n/**\n * @typedef Request\n * @param {MethodDescriptor} methodDescriptor\n * @param {Object} requestParams, defaults to an empty object ({})\n */\nfunction Request(methodDescriptor, requestParams) {\n  this.methodDescriptor = methodDescriptor;\n  this.requestParams = requestParams || {};\n}\n\nRequest.prototype = {\n  /**\n   * @return {Object}\n   */\n  params: function params() {\n    var _this = this;\n\n    var params = (0, _utils.assign)({}, this.methodDescriptor.params, this.requestParams);\n\n    var isParam = function isParam(key) {\n      return key !== _this.methodDescriptor.headersAttr && key !== _this.methodDescriptor.bodyAttr && key !== _this.methodDescriptor.authAttr && key !== _this.methodDescriptor.timeoutAttr;\n    };\n\n    return Object.keys(params).reduce(function (obj, key) {\n      if (isParam(key)) {\n        obj[key] = params[key];\n      }\n      return obj;\n    }, {});\n  },\n\n\n  /**\n   * Returns the HTTP method in lowercase\n   *\n   * @return {String}\n   */\n  method: function method() {\n    return this.methodDescriptor.method.toLowerCase();\n  },\n\n\n  /**\n   * Returns host name without trailing slash\n   * Example: http://example.org\n   *\n   * @return {String}\n   */\n  host: function host() {\n    return (this.methodDescriptor.host || '').replace(/\\/$/, '');\n  },\n\n\n  /**\n   * Returns path with parameters and leading slash.\n   * Example: /some/path?param1=true\n   *\n   * @throws {Error} if any dynamic segment is missing.\n   * Example:\n   * Imagine the path '/some/{name}', the error will be similar to:\n   * '[Mappersmith] required parameter missing (name), \"/some/{name}\" cannot be resolved'\n   *\n   * @return {String}\n   */\n  path: function path() {\n    var path = this.methodDescriptor.path;\n\n    if (this.methodDescriptor.path[0] !== '/') {\n      path = '/' + this.methodDescriptor.path;\n    }\n\n    var params = this.params();\n    Object.keys(params).forEach(function (key) {\n      var value = params[key];\n      var pattern = '{' + key + '}';\n\n      if (new RegExp(pattern).test(path)) {\n        path = path.replace('{' + key + '}', value);\n        delete params[key];\n      }\n    });\n\n    var missingDynamicSegmentMatch = path.match(REGEXP_DYNAMIC_SEGMENT);\n    if (missingDynamicSegmentMatch) {\n      throw new Error('[Mappersmith] required parameter missing (' + missingDynamicSegmentMatch[1] + '), \"' + path + '\" cannot be resolved');\n    }\n\n    var queryString = (0, _utils.toQueryString)(params);\n    if (queryString.length !== 0) {\n      path += '?' + queryString;\n    }\n\n    return path;\n  },\n\n\n  /**\n   * Returns the full URL\n   * Example: http://example.org/some/path?param1=true\n   *\n   * @return {String}\n   */\n  url: function url() {\n    return '' + this.host() + this.path();\n  },\n\n\n  /**\n   * Returns an object with the headers. Header names are converted to\n   * lowercase\n   *\n   * @return {Object}\n   */\n  headers: function headers() {\n    return (0, _utils.lowerCaseObjectKeys)((0, _utils.assign)({}, this.methodDescriptor.headers, this.requestParams[this.methodDescriptor.headersAttr]));\n  },\n  body: function body() {\n    return this.requestParams[this.methodDescriptor.bodyAttr];\n  },\n  auth: function auth() {\n    return this.requestParams[this.methodDescriptor.authAttr];\n  },\n  timeout: function timeout() {\n    return this.requestParams[this.methodDescriptor.timeoutAttr];\n  },\n\n\n  /**\n   * Enhances current request returning a new Request\n   * @param {Object} extras\n   *   @param {Object} extras.params - it will be merged with current params\n   *   @param {Object} extras.headers - it will be merged with current headers\n   *   @param {String|Object} extras.body - it will replace the current body\n   *   @param {Object} extras.auth - it will replace the current auth\n   *   @param {Number} extras.timeout - it will replace the current timeout\n   */\n  enhance: function enhance(extras) {\n    var headerKey = this.methodDescriptor.headersAttr;\n    var bodyKey = this.methodDescriptor.bodyAttr;\n    var authKey = this.methodDescriptor.authAttr;\n    var timeoutKey = this.methodDescriptor.timeoutAttr;\n    var requestParams = (0, _utils.assign)({}, this.requestParams, extras.params);\n\n    requestParams[headerKey] = (0, _utils.assign)({}, this.requestParams[headerKey], extras.headers);\n    extras.body && (requestParams[bodyKey] = extras.body);\n    extras.auth && (requestParams[authKey] = extras.auth);\n    extras.timeout && (requestParams[timeoutKey] = extras.timeout);\n\n    return new Request(this.methodDescriptor, requestParams);\n  }\n};\n\nexports.default = Request;\n\n\n// WEBPACK FOOTER //\n// ./lib/request.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gateway = require('../gateway');\n\nvar _gateway2 = _interopRequireDefault(_gateway);\n\nvar _response = require('../response');\n\nvar _response2 = _interopRequireDefault(_response);\n\nvar _utils = require('../utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar toBase64 = window.btoa || _utils.btoa;\n\nfunction XHR(request) {\n  _gateway2.default.apply(this, arguments);\n}\n\nXHR.prototype = _gateway2.default.extends({\n  get: function get() {\n    var xmlHttpRequest = this.createXHR();\n    xmlHttpRequest.open('get', this.request.url(), true);\n    this.setHeaders(xmlHttpRequest, {});\n    this.configureTimeout(xmlHttpRequest);\n    xmlHttpRequest.send();\n  },\n  post: function post() {\n    this.performRequest('post');\n  },\n  put: function put() {\n    this.performRequest('put');\n  },\n  patch: function patch() {\n    this.performRequest('patch');\n  },\n  delete: function _delete() {\n    this.performRequest('delete');\n  },\n  configureTimeout: function configureTimeout(xmlHttpRequest) {\n    var _this = this;\n\n    this.canceled = false;\n    this.timer = null;\n\n    var timeout = this.request.timeout();\n\n    if (timeout) {\n      xmlHttpRequest.timeout = timeout;\n      xmlHttpRequest.addEventListener('timeout', function () {\n        _this.canceled = true;\n        clearTimeout(_this.timer);\n        _this.dispatchClientError('Timeout (' + timeout + 'ms)');\n      });\n\n      // PhantomJS doesn't support timeout for XMLHttpRequest\n      this.timer = setTimeout(function () {\n        _this.canceled = true;\n        _this.dispatchClientError('Timeout (' + timeout + 'ms)');\n      }, timeout + 1);\n    }\n  },\n  configureCallbacks: function configureCallbacks(xmlHttpRequest) {\n    var _this2 = this;\n\n    xmlHttpRequest.addEventListener('load', function () {\n      if (_this2.canceled) {\n        return;\n      }\n\n      clearTimeout(_this2.timer);\n      _this2.dispatchResponse(_this2.createResponse(xmlHttpRequest));\n    });\n\n    xmlHttpRequest.addEventListener('error', function () {\n      if (_this2.canceled) {\n        return;\n      }\n\n      clearTimeout(_this2.timer);\n      _this2.dispatchClientError('Network error');\n    });\n\n    var xhrOptions = this.options().XHR;\n    if (xhrOptions.withCredentials) {\n      xmlHttpRequest.withCredentials = true;\n    }\n\n    if (xhrOptions.configure) {\n      xhrOptions.configure(xmlHttpRequest);\n    }\n  },\n  performRequest: function performRequest(method) {\n    var requestMethod = this.shouldEmulateHTTP() ? 'post' : method;\n    var xmlHttpRequest = this.createXHR();\n    xmlHttpRequest.open(requestMethod, this.request.url(), true);\n\n    var customHeaders = {};\n    var body = this.prepareBody(method, customHeaders);\n    this.setHeaders(xmlHttpRequest, customHeaders);\n    this.configureTimeout(xmlHttpRequest);\n\n    var args = [];\n    body && args.push(body);\n\n    xmlHttpRequest.send.apply(xmlHttpRequest, args);\n  },\n  createResponse: function createResponse(xmlHttpRequest) {\n    var status = xmlHttpRequest.status;\n    var data = xmlHttpRequest.responseText;\n    var responseHeaders = (0, _utils.parseResponseHeaders)(xmlHttpRequest.getAllResponseHeaders());\n    return new _response2.default(this.request, status, data, responseHeaders);\n  },\n  setHeaders: function setHeaders(xmlHttpRequest, customHeaders) {\n    var auth = this.request.auth();\n    if (auth) {\n      var username = auth.username || '';\n      var password = auth.password || '';\n      customHeaders['authorization'] = 'Basic ' + toBase64(username + ':' + password);\n    }\n\n    var headers = (0, _utils.assign)(customHeaders, this.request.headers());\n    Object.keys(headers).forEach(function (headerName) {\n      xmlHttpRequest.setRequestHeader(headerName, headers[headerName]);\n    });\n  },\n  createXHR: function createXHR() {\n    var xmlHttpRequest = new XMLHttpRequest(); // eslint-disable-line no-undef\n    this.configureCallbacks(xmlHttpRequest);\n    return xmlHttpRequest;\n  }\n});\n\nexports.default = XHR;\n\n\n// WEBPACK FOOTER //\n// ./lib/gateway/xhr.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require('./utils');\n\nvar _mappersmith = require('./mappersmith');\n\nvar _response = require('./response');\n\nvar _response2 = _interopRequireDefault(_response);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Gateway(request) {\n  var configs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.request = request;\n  this.configs = configs;\n  this.successCallback = function () {};\n  this.failCallback = function () {};\n}\n\nGateway.extends = function (methods) {\n  return (0, _utils.assign)({}, Gateway.prototype, methods);\n};\n\nGateway.prototype = {\n  options: function options() {\n    return this.configs;\n  },\n  shouldEmulateHTTP: function shouldEmulateHTTP() {\n    return this.options().emulateHTTP && /^(delete|put|patch)/i.test(this.request.method());\n  },\n  call: function call() {\n    var _this = this,\n        _arguments = arguments;\n\n    var timeStart = (0, _utils.performanceNow)();\n    return new _mappersmith.configs.Promise(function (resolve, reject) {\n      _this.successCallback = function (response) {\n        response.timeElapsed = (0, _utils.performanceNow)() - timeStart;\n        resolve(response);\n      };\n\n      _this.failCallback = function (response) {\n        response.timeElapsed = (0, _utils.performanceNow)() - timeStart;\n        reject(response);\n      };\n\n      try {\n        _this[_this.request.method()].apply(_this, _arguments);\n      } catch (e) {\n        _this.dispatchClientError(e.message);\n      }\n    });\n  },\n  dispatchResponse: function dispatchResponse(response) {\n    response.success() ? this.successCallback(response) : this.failCallback(response);\n  },\n  dispatchClientError: function dispatchClientError(message) {\n    this.failCallback(new _response2.default(this.request, 400, message));\n  },\n  prepareBody: function prepareBody(method, headers) {\n    var body = this.request.body();\n\n    if (this.shouldEmulateHTTP()) {\n      body = body || {};\n      (0, _utils.isPlainObject)(body) && (body._method = method);\n      headers['x-http-method-override'] = method;\n    }\n\n    var bodyString = (0, _utils.toQueryString)(body);\n\n    if (bodyString) {\n      // If it's not simple, let the browser (or the user) set it\n      if ((0, _utils.isPlainObject)(body)) {\n        headers['content-type'] = 'application/x-www-form-urlencoded;charset=utf-8';\n      }\n    }\n\n    return bodyString;\n  }\n};\n\nexports.default = Gateway;\n\n\n// WEBPACK FOOTER //\n// ./lib/gateway.js"],"sourceRoot":""}